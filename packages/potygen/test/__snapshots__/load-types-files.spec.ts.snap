// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Load Files Should convert complex sql account-levelisation.update.query.sql: account-levelisation.update.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "isAccepted",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "boolean",
          "type": 5,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "isAccepted",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "boolean",
        "type": 5,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-levelisation.upsert.query.sql: account-levelisation.upsert.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "levelisationId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "start",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-levelisations.query.sql: account-levelisations.query.sql 1`] = `
{
  "params": [
    {
      "name": "q",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "resolvedPostlev",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "bool",
              "type": 5,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "state",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": [
                {
                  "literal": "Pending",
                  "postgresType": "text",
                  "type": 2,
                },
                {
                  "literal": "Done",
                  "postgresType": "text",
                  "type": 2,
                },
              ],
              "postgresType": "account_levelisation_state",
              "type": 12,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "items": [
                {
                  "literal": "Pending",
                  "postgresType": "text",
                  "type": 2,
                },
                {
                  "literal": "Done",
                  "postgresType": "text",
                  "type": 2,
                },
              ],
              "nullable": false,
              "postgresType": "account_levelisation_state",
              "type": 12,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "levelisationId",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "int4",
              "type": 3,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "ids",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "sortField",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "totalPayment",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "vatPayment",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "generationPayment",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "exportPayment",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "generationEnergy",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "exportEnergy",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "cfrFitId",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "state",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "isAccepted",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "error",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "exportType",
              "postgresType": "text",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "sortOrder",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "DESC",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "ASC",
              "postgresType": "text",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "limit",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "levelisationId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "accountId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "installationId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "state",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Pending",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Done",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "account_levelisation_state",
        "type": 12,
      },
    },
    {
      "name": "isAccepted",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "boolean",
        "type": 5,
      },
    },
    {
      "name": "generationStartReadOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "generationStartReadValue",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "generationEndReadOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "generationEndReadValue",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "generationPercentageSplit",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "generationPayment",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "generationEnergy",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportStartReadOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "exportStartReadValue",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportEndReadOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "exportEndReadValue",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportPercentageSplit",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportPayment",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportEnergy",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "exportType",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Deemed",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Deemed",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Metered Export",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Metered Export",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Off Grid",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Off Grid",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "PPA",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "PPA",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": true,
        "postgresType": "installation_export_type",
        "type": 12,
      },
    },
    {
      "name": "technologyType",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "PV",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "H",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "W",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "AD",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "CHP",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": true,
        "postgresType": "installation_technology_types",
        "type": 12,
      },
    },
    {
      "name": "totalPayment",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "vatPayment",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "generationPeriods",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "jsonb",
        "type": 8,
      },
    },
    {
      "name": "exportPeriods",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "jsonb",
        "type": 8,
      },
    },
    {
      "name": "errorCode",
      "type": {
        "nullable": true,
        "postgresType": "text",
        "type": 2,
      },
    },
    {
      "name": "errorParams",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 8,
      },
    },
    {
      "name": "cfrFitId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "resolvedPostlevId",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "isBacsPaymentsSent",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "boolean",
        "type": 5,
      },
    },
    {
      "name": "isChequePaymentsSent",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "boolean",
        "type": 5,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-levelisations-bulk-close-accounts.query.sql: account-levelisations-bulk-close-accounts.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "ids",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "items": {
            "postgresType": "int4",
            "type": 3,
          },
          "postgresType": "int4[]",
          "type": 11,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-levelisations-set-bulk-update.query.sql: account-levelisations-set-bulk-update.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "ids",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "items": {
            "postgresType": "int4",
            "type": 3,
          },
          "postgresType": "int4[]",
          "type": 11,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-meter-registers-create.query.sql: account-meter-registers-create.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "customerLabel",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "industryLabel",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "smtRuleStart",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": undefined,
          "postgresDescription": undefined,
          "postgresType": ""any"",
          "type": 1,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "smtRuleEnd",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": undefined,
      },
    },
    {
      "accessor": undefined,
      "name": "smtRuleStartOn",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "timestamp without time zone",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "multiplier",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "meterId",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "indexPosition",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql account-verification.update.query.sql: account-verification.update.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "items",
      "type": {
        "items": {
          "items": [
            {
              "name": "GH_account_id",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "MV date",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
          ],
          "nullable": false,
          "postgresType": "json",
          "type": 13,
        },
        "postgresType": "anyarray",
        "type": 11,
      },
    },
    {
      "name": "currentDate",
      "type": {
        "items": [
          {
            "nullable": false,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "timestamp without time zone",
              "type": 6,
            },
          },
          {
            "nullable": false,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "timestamp without time zone",
              "type": 6,
            },
          },
        ],
        "nullable": false,
        "postgresType": "any",
        "type": 12,
      },
    },
  ],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql accounts.list.query.sql: accounts.list.query.sql 1`] = `
{
  "params": [
    {
      "name": "q",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "varchar",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "ids",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
  ],
  "results": [
    {
      "name": "total",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql accounts.query.sql: accounts.query.sql 1`] = `
{
  "params": [
    {
      "name": "q",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "varchar",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "ids",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "limit",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "state",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Active",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Pending",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Dispute",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Closed",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "account_state",
        "type": 12,
      },
    },
    {
      "name": "startOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "firstName",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "lastName",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "email",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "address",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "text",
        "type": 2,
      },
    },
    {
      "name": "fitIds",
      "type": {
        "items": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
        "postgresType": "character varying[]",
        "type": 11,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql accounts.sql: accounts.sql 1`] = `
{
  "params": [],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql active-meters-with-last-read.query.sql: active-meters-with-last-read.query.sql 1`] = `
{
  "params": [
    {
      "name": "intervalStart",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 6,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 6,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "intervalEnd",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "accountId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "name": "meterId",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "int4",
              "type": 3,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "msn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "mpan",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "make",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "model",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "type",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Export",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Generation",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "meter_types",
        "type": 12,
      },
    },
    {
      "name": "currentPeriodRead",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "id",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "value",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "dateOn",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "submittedAt",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "reason",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "type",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "Opening",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Closing",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Quarterly",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Meter Verification",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": false,
                "postgresType": "meter_reads_types",
                "type": 12,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
    {
      "name": "previousPeriodRead",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "id",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "value",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "dateOn",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "submittedAt",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "reason",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "type",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "Opening",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Closing",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Quarterly",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Meter Verification",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": false,
                "postgresType": "meter_reads_types",
                "type": 12,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql active-meters-wth-reads.query.sql: active-meters-wth-reads.query.sql 1`] = `
{
  "params": [
    {
      "name": "intervalStart",
      "type": {
        "items": [
          {
            "nullable": false,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 6,
            },
          },
          {
            "nullable": false,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 6,
            },
          },
        ],
        "nullable": false,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "intervalEnd",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "accountId",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "name": "meterId",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "postgresType": "int4",
              "type": 3,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "msn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "mpan",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "make",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "model",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "type",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Export",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Generation",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "meter_types",
        "type": 12,
      },
    },
    {
      "name": "currentPeriodRead",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "id",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "value",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "dateOn",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "submittedAt",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "reason",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "type",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "Opening",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Closing",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Quarterly",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Meter Verification",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": false,
                "postgresType": "meter_reads_types",
                "type": 12,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
    {
      "name": "previousPeriodRead",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "id",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "value",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "dateOn",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "submittedAt",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "date",
                "type": 2,
              },
            },
            {
              "name": "reason",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "type",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "Opening",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Closing",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Quarterly",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Meter Verification",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": false,
                "postgresType": "meter_reads_types",
                "type": 12,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql active-reads.view.sql: active-reads.view.sql 1`] = `
{
  "params": [],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "meter_id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "date_on",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "value",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "type",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Opening",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Closing",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Quarterly",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Meter Verification",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "meter_reads_types",
        "type": 12,
      },
    },
    {
      "name": "reason",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "created_at",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "timestamp without time zone",
        "type": 6,
      },
    },
    {
      "name": "updated_at",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "timestamp without time zone",
        "type": 6,
      },
    },
    {
      "name": "source_system_id",
      "type": {
        "comment": "sql-fit: MeterReading.MeterReadingId",
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "checked",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "boolean",
        "type": 5,
      },
    },
    {
      "name": "deleted_at",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "submitted_at",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "history",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "jsonb",
        "type": 8,
      },
    },
    {
      "name": "overwritten_at",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "timestamp without time zone",
        "type": 6,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql bacs.query.sql: bacs.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "quarter",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "perPage",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
  ],
  "results": [
    {
      "name": "fitId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "name",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "amount",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "quarter",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "bankDetails",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "text",
        "type": 2,
      },
    },
    {
      "name": "addressLine1",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "addressLine2",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "addressLine3",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "postcode",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql contracts.sql: contracts.sql 1`] = `
{
  "params": [],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql csa-account-by-id.query.sql: csa-account-by-id.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "state",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Active",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Pending",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Dispute",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Closed",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "account_state",
        "type": 12,
      },
    },
    {
      "name": "contacts",
      "type": {
        "items": {
          "items": [
            {
              "name": "id",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "name",
              "type": {
                "comment": undefined,
                "generated": undefined,
                "postgresDescription": undefined,
                "postgresType": "text",
                "type": 2,
              },
            },
            {
              "name": "email",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "phone",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "address",
              "type": {
                "items": [
                  {
                    "name": "id",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "postgresDescription": undefined,
                      "postgresType": "integer",
                      "type": 3,
                    },
                  },
                  {
                    "name": "addressLine1",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "addressLine2",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "addressLine3",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "city",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "country",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "county",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "postCode",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                ],
                "postgresType": "json",
                "type": 13,
              },
            },
            {
              "name": "isPrimaryContact",
              "type": {
                "postgresType": "bool",
                "type": 5,
              },
            },
            {
              "name": "isNominatedRecipient",
              "type": {
                "postgresType": "bool",
                "type": 5,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
        "postgresType": "json[]",
        "type": 11,
      },
    },
    {
      "name": "paymentDetails",
      "type": {
        "items": [
          {
            "name": "beneficiaryAccountNumber",
            "type": {
              "comment": undefined,
              "generated": undefined,
              "postgresDescription": undefined,
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "name": "beneficiaryName",
            "type": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
          {
            "name": "beneficiarySortCode",
            "type": {
              "comment": undefined,
              "generated": false,
              "nullable": true,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
        ],
        "postgresType": "json",
        "type": 13,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql csa-account-contracts-update.query.sql: csa-account-contracts-update.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "phone",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "email",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "currentDate",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "timestamp without time zone",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "email",
      "type": {
        "comment": undefined,
        "nullable": true,
        "postgresType": "varchar",
        "type": 2,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql cte.query.sql: cte.query.sql 1`] = `
{
  "params": [],
  "results": [
    {
      "name": "region",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "product",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "product_units",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "product_sales",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql cte-levelisation-details.query.sql: cte-levelisation-details.query.sql 1`] = `
{
  "params": [
    {
      "name": "id",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "totalCount",
      "type": {
        "nullable": true,
        "postgresType": "int4",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "name": "fitTotalExportPayment",
      "type": {
        "nullable": true,
        "postgresType": "bigint",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": undefined,
          "postgresDescription": undefined,
          "postgresType": "bigint",
          "type": 4,
        },
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql delete-accounts.query.sql: delete-accounts.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "type",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "items": [
            {
              "literal": "FIT",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "SEG",
              "postgresType": "text",
              "type": 2,
            },
          ],
          "nullable": false,
          "postgresType": "contract_scheme_types",
          "type": 12,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "state",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "items": [
            {
              "literal": "Active",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Pending",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Dispute",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Closed",
              "postgresType": "text",
              "type": 2,
            },
          ],
          "nullable": false,
          "postgresType": "account_state",
          "type": 12,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "sourceSystemId",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "customerId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql generation-read-data.query.sql: generation-read-data.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "installationId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "exportDateOn",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "date",
          "type": 6,
        },
      },
    },
  ],
  "results": [
    {
      "name": "dateOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "value",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql insert.process.query.sql: insert.process.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "items",
      "type": {
        "items": {
          "items": [
            {
              "name": "processId",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "idempotencyKey",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "data",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "jsonb",
                "type": 8,
              },
            },
            {
              "name": "accountId",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
          ],
          "nullable": false,
          "postgresType": "json",
          "type": 13,
        },
        "postgresType": "anyarray",
        "type": 11,
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "data",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "jsonb",
        "type": 8,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql insert-account.query.sql: insert-account.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "state",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "items": [
            {
              "literal": "Active",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Pending",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Dispute",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Closed",
              "postgresType": "text",
              "type": 2,
            },
          ],
          "nullable": false,
          "postgresType": "account_state",
          "type": 12,
        },
      },
    },
    {
      "name": "paymentDetails",
      "type": {
        "items": [
          {
            "name": "paymentPlan",
            "type": {
              "nullable": false,
              "postgresType": "any",
              "type": 14,
              "value": {
                "items": [
                  {
                    "literal": "BACs",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Cheque",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Internal Transfer",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "postgresType": "account_payment_plans",
                "type": 12,
              },
            },
          },
          {
            "name": "beneficiaryName",
            "type": {
              "nullable": true,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
          {
            "name": "beneficiarySortCode",
            "type": {
              "nullable": true,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
          {
            "name": "beneficiaryAccountNumber",
            "type": {
              "nullable": true,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 13,
      },
    },
    {
      "name": "companyDetails",
      "type": {
        "items": [
          {
            "name": "companyRegNumber",
            "type": {
              "nullable": false,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
          {
            "name": "companyVatNumber",
            "type": {
              "nullable": false,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
          {
            "name": "companyName",
            "type": {
              "nullable": false,
              "postgresType": "any",
              "type": 14,
              "value": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
          },
        ],
        "nullable": false,
        "postgresType": "any",
        "type": 13,
      },
    },
    {
      "accessor": undefined,
      "name": "startOn",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "endOn",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "currentDate",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "timestamp without time zone",
          "type": 6,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "state",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Active",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Pending",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Dispute",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Closed",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "account_state",
        "type": 12,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql installation-meter-update.query.sql: installation-meter-update.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "removalDate",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "meterId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql installations.sql: installations.sql 1`] = `
{
  "params": [],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql levelisation-customer-data.query.sql: levelisation-customer-data.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "accountLevelisationId",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "interval",
      "type": {
        "items": [
          {
            "name": "start",
            "type": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 2,
            },
          },
          {
            "name": "end",
            "type": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "date",
              "type": 2,
            },
          },
        ],
        "postgresType": "json",
        "type": 13,
      },
    },
    {
      "name": "levelisationQuarter",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "accountId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "contact",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "title",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "Mrs",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Miss",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Dr",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Ms",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "Mr",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": true,
                "postgresType": "contact_titles",
                "type": 12,
              },
            },
            {
              "name": "firstName",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "lastName",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "email",
              "type": {
                "comment": undefined,
                "generated": false,
                "nullable": true,
                "postgresDescription": undefined,
                "postgresType": "character varying",
                "type": 2,
              },
            },
            {
              "name": "address",
              "type": {
                "items": [
                  {
                    "name": "city",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "postcode",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "line1",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "line2",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                  {
                    "name": "line3",
                    "type": {
                      "comment": undefined,
                      "generated": false,
                      "nullable": true,
                      "postgresDescription": undefined,
                      "postgresType": "character varying",
                      "type": 2,
                    },
                  },
                ],
                "postgresType": "json",
                "type": 13,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
    {
      "name": "installation",
      "type": {
        "nullable": true,
        "postgresType": "json",
        "type": 14,
        "value": {
          "items": [
            {
              "name": "installationId",
              "type": {
                "comment": undefined,
                "generated": false,
                "postgresDescription": undefined,
                "postgresType": "integer",
                "type": 3,
              },
            },
            {
              "name": "technologyType",
              "type": {
                "comment": undefined,
                "items": [
                  {
                    "literal": "PV",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "PV",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "H",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "H",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "W",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "W",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "AD",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "AD",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "CHP",
                    "postgresType": "text",
                    "type": 2,
                  },
                  {
                    "literal": "CHP",
                    "postgresType": "text",
                    "type": 2,
                  },
                ],
                "nullable": false,
                "postgresType": "installation_technology_types",
                "type": 12,
              },
            },
            {
              "name": "meters",
              "type": {
                "items": {
                  "nullable": true,
                  "postgresType": "json",
                  "type": 14,
                  "value": {
                    "items": [
                      {
                        "name": "id",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "postgresDescription": undefined,
                          "postgresType": "integer",
                          "type": 3,
                        },
                      },
                      {
                        "name": "startOn",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "date",
                          "type": 2,
                        },
                      },
                      {
                        "name": "endOn",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "date",
                          "type": 2,
                        },
                      },
                      {
                        "name": "type",
                        "type": {
                          "comment": undefined,
                          "items": [
                            {
                              "literal": "Export",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Generation",
                              "postgresType": "text",
                              "type": 2,
                            },
                          ],
                          "nullable": false,
                          "postgresType": "meter_types",
                          "type": 12,
                        },
                      },
                      {
                        "name": "reads",
                        "type": {
                          "items": {
                            "nullable": true,
                            "postgresType": "json",
                            "type": 14,
                            "value": {
                              "items": [
                                {
                                  "name": "value",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "integer",
                                    "type": 3,
                                  },
                                },
                                {
                                  "name": "dateOn",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "date",
                                    "type": 2,
                                  },
                                },
                                {
                                  "name": "type",
                                  "type": {
                                    "comment": undefined,
                                    "items": [
                                      {
                                        "literal": "Opening",
                                        "postgresType": "text",
                                        "type": 2,
                                      },
                                      {
                                        "literal": "Closing",
                                        "postgresType": "text",
                                        "type": 2,
                                      },
                                      {
                                        "literal": "Quarterly",
                                        "postgresType": "text",
                                        "type": 2,
                                      },
                                      {
                                        "literal": "Meter Verification",
                                        "postgresType": "text",
                                        "type": 2,
                                      },
                                    ],
                                    "nullable": false,
                                    "postgresType": "meter_reads_types",
                                    "type": 12,
                                  },
                                },
                                {
                                  "name": "id",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "integer",
                                    "type": 3,
                                  },
                                },
                              ],
                              "postgresType": "json",
                              "type": 13,
                            },
                          },
                          "postgresType": "json[]",
                          "type": 11,
                        },
                      },
                    ],
                    "postgresType": "json",
                    "type": 13,
                  },
                },
                "postgresType": "json[]",
                "type": 11,
              },
            },
            {
              "name": "contracts",
              "type": {
                "items": {
                  "nullable": true,
                  "postgresType": "json",
                  "type": 14,
                  "value": {
                    "items": [
                      {
                        "name": "schemeType",
                        "type": {
                          "comment": undefined,
                          "items": [
                            {
                              "literal": "FIT",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "SEG",
                              "postgresType": "text",
                              "type": 2,
                            },
                          ],
                          "nullable": false,
                          "postgresType": "contract_scheme_types",
                          "type": 12,
                        },
                      },
                      {
                        "name": "schemeAccountReference",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "postgresDescription": undefined,
                          "postgresType": "character varying",
                          "type": 2,
                        },
                      },
                      {
                        "name": "capacity",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "postgresDescription": undefined,
                          "postgresType": "numeric",
                          "type": 3,
                        },
                      },
                      {
                        "name": "generationTariffId",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "integer",
                          "type": 3,
                        },
                      },
                      {
                        "name": "exportTariffId",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "integer",
                          "type": 3,
                        },
                      },
                      {
                        "name": "startOn",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "postgresDescription": undefined,
                          "postgresType": "date",
                          "type": 2,
                        },
                      },
                      {
                        "name": "endOn",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "date",
                          "type": 2,
                        },
                      },
                      {
                        "name": "exportType",
                        "type": {
                          "comment": undefined,
                          "items": [
                            {
                              "literal": "Deemed",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Deemed",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Deemed",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Metered Export",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Metered Export",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Metered Export",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Off Grid",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Off Grid",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "Off Grid",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "PPA",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "PPA",
                              "postgresType": "text",
                              "type": 2,
                            },
                            {
                              "literal": "PPA",
                              "postgresType": "text",
                              "type": 2,
                            },
                          ],
                          "nullable": true,
                          "postgresType": "installation_export_type",
                          "type": 12,
                        },
                      },
                      {
                        "name": "exportPercentageSplit",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "numeric",
                          "type": 3,
                        },
                      },
                      {
                        "name": "generationPercentageSplit",
                        "type": {
                          "comment": undefined,
                          "generated": false,
                          "nullable": true,
                          "postgresDescription": undefined,
                          "postgresType": "numeric",
                          "type": 3,
                        },
                      },
                      {
                        "name": "generationRates",
                        "type": {
                          "items": {
                            "nullable": true,
                            "postgresType": "json",
                            "type": 14,
                            "value": {
                              "items": [
                                {
                                  "name": "id",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "integer",
                                    "type": 3,
                                  },
                                },
                                {
                                  "name": "startOn",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "date",
                                    "type": 2,
                                  },
                                },
                                {
                                  "name": "endOn",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "nullable": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "date",
                                    "type": 2,
                                  },
                                },
                                {
                                  "name": "rate",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "numeric",
                                    "type": 3,
                                  },
                                },
                              ],
                              "postgresType": "json",
                              "type": 13,
                            },
                          },
                          "postgresType": "json[]",
                          "type": 11,
                        },
                      },
                      {
                        "name": "exportRates",
                        "type": {
                          "items": {
                            "nullable": true,
                            "postgresType": "json",
                            "type": 14,
                            "value": {
                              "items": [
                                {
                                  "name": "id",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "integer",
                                    "type": 3,
                                  },
                                },
                                {
                                  "name": "startOn",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "date",
                                    "type": 2,
                                  },
                                },
                                {
                                  "name": "endOn",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "nullable": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "date",
                                    "type": 2,
                                  },
                                },
                                {
                                  "name": "rate",
                                  "type": {
                                    "comment": undefined,
                                    "generated": false,
                                    "postgresDescription": undefined,
                                    "postgresType": "numeric",
                                    "type": 3,
                                  },
                                },
                              ],
                              "postgresType": "json",
                              "type": 13,
                            },
                          },
                          "postgresType": "json[]",
                          "type": 11,
                        },
                      },
                    ],
                    "postgresType": "json",
                    "type": 13,
                  },
                },
                "postgresType": "json[]",
                "type": 11,
              },
            },
          ],
          "postgresType": "json",
          "type": 13,
        },
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql levelisation-details.query.sql: levelisation-details.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "quarter",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "startOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "endOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "totalCount",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "pendingCount",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "errorCount",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "successCount",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "backsSent",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "chequeSent",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
    {
      "name": "totalGenerationPayment",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalExportPayment",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalGenerationEnergy",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalExportEnergy",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalMeteredExportEnergy",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalMeteredExportPayment",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalDeemedExportEnergy",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
    {
      "name": "totalDeemedExportPayment",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "bigint",
        "type": 4,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql levelisation-individual-reads.list.query.sql: levelisation-individual-reads.list.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "limit",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": false,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "dateOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "value",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql levelisations.list.query.sql: levelisations.list.query.sql 1`] = `
{
  "params": [
    {
      "name": "q",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "character varying",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "name": "ids",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "items": {
                "postgresType": "int4",
                "type": 3,
              },
              "postgresType": "int4[]",
              "type": 11,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "sortField",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "literal": "quarter",
          "postgresType": "text",
          "type": 2,
        },
      },
    },
    {
      "name": "sortOrder",
      "type": {
        "items": [
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "DESC",
              "postgresType": "text",
              "type": 2,
            },
          },
          {
            "nullable": true,
            "postgresType": "any",
            "type": 14,
            "value": {
              "literal": "ASC",
              "postgresType": "text",
              "type": 2,
            },
          },
        ],
        "nullable": true,
        "postgresType": "any",
        "type": 12,
      },
    },
    {
      "accessor": undefined,
      "name": "limit",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "quarter",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "startOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "endOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql meter-create.query.sql: meter-create.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "msn",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "make",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "model",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "mpan",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "createdAt",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "timestamp without time zone",
          "type": 6,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql meter-reads.sql: meter-reads.sql 1`] = `
{
  "params": [],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql overwritten.query.sql: overwritten.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "currentDate",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "timestamp without time zone",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "meterId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "intervalStart",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "intervalEnd",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
  ],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql process-batch.query.sql: process-batch.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "fitIds",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "items": {
            "comment": undefined,
            "generated": false,
            "nullable": true,
            "postgresDescription": undefined,
            "postgresType": "character varying",
            "type": 2,
          },
          "postgresType": "character varying[]",
          "type": 11,
        },
      },
    },
  ],
  "results": [
    {
      "name": "cfrFiTId",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "email",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "contactName",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "text",
        "type": 2,
      },
    },
    {
      "name": "company",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "line1",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "line2",
      "type": {
        "comment": undefined,
        "generated": undefined,
        "postgresDescription": undefined,
        "postgresType": "text",
        "type": 2,
      },
    },
    {
      "name": "town",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "postcode",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "county",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "country",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql rates-by-tariff-ids.query.sql: rates-by-tariff-ids.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "ids",
      "type": {
        "items": {
          "nullable": true,
          "postgresType": "any",
          "type": 14,
          "value": {
            "items": {
              "comment": undefined,
              "generated": false,
              "postgresDescription": undefined,
              "postgresType": "integer",
              "type": 3,
            },
            "postgresType": "integer[]",
            "type": 11,
          },
        },
        "postgresType": "anyarray",
        "type": 11,
      },
    },
  ],
  "results": [
    {
      "name": "tariffId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "rate",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "numeric",
        "type": 3,
      },
    },
    {
      "name": "startOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "tariffCode",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "tariffType",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Export",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Generation",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "SEG",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "tariff_types",
        "type": 12,
      },
    },
    {
      "name": "endOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql read-create.query.sql: read-create.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "meterId",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "reason",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "character varying",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "type",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "items": [
            {
              "literal": "Opening",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Closing",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Quarterly",
              "postgresType": "text",
              "type": 2,
            },
            {
              "literal": "Meter Verification",
              "postgresType": "text",
              "type": 2,
            },
          ],
          "nullable": false,
          "postgresType": "meter_reads_types",
          "type": 12,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "dateOn",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "submittedAt",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "nullable": true,
          "postgresDescription": undefined,
          "postgresType": "date",
          "type": 6,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "value",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "int4",
          "type": 3,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "value",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "meterId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "submittedAt",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql reads-by-account-id.query.sql: reads-by-account-id.query.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "id",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "comment": undefined,
          "generated": false,
          "postgresDescription": undefined,
          "postgresType": "integer",
          "type": 3,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "offset",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
    {
      "accessor": undefined,
      "name": "perPage",
      "type": {
        "nullable": true,
        "postgresType": "any",
        "type": 14,
        "value": {
          "postgresType": "text",
          "type": 2,
        },
      },
    },
  ],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "msn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "meterId",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "dateOn",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "date",
        "type": 6,
      },
    },
    {
      "name": "value",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "type",
      "type": {
        "comment": undefined,
        "items": [
          {
            "literal": "Opening",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Closing",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Quarterly",
            "postgresType": "text",
            "type": 2,
          },
          {
            "literal": "Meter Verification",
            "postgresType": "text",
            "type": 2,
          },
        ],
        "nullable": false,
        "postgresType": "meter_reads_types",
        "type": 12,
      },
    },
    {
      "name": "reason",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
    {
      "name": "createdAt",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "timestamp without time zone",
        "type": 6,
      },
    },
    {
      "name": "updatedAt",
      "type": {
        "comment": undefined,
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "timestamp without time zone",
        "type": 6,
      },
    },
    {
      "name": "sourceSystemId",
      "type": {
        "comment": "sql-fit: MeterReading.MeterReadingId",
        "generated": false,
        "nullable": true,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "mpan",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "character varying",
        "type": 2,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql recordsets.query.sql: recordsets.query.sql 1`] = `
{
  "params": [],
  "results": [
    {
      "name": "id",
      "type": {
        "comment": undefined,
        "generated": false,
        "postgresDescription": undefined,
        "postgresType": "integer",
        "type": 3,
      },
    },
    {
      "name": "exportType",
      "type": {
        "postgresType": "varchar",
        "type": 2,
      },
    },
    {
      "name": "energy",
      "type": {
        "postgresType": "float4",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql tariff-rates.sql: tariff-rates.sql 1`] = `
{
  "params": [],
  "results": [],
}
`;

exports[`Load Files Should convert complex sql update-registers.sql: update-registers.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "registers",
      "type": {
        "items": {
          "items": [
            {
              "name": "id",
              "type": {
                "nullable": true,
                "postgresType": "int4",
                "type": 3,
              },
            },
            {
              "name": "customerLabel",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "industryLabel",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "smtRuleStart",
              "type": {
                "nullable": true,
                "postgresType": "varchar",
                "type": 2,
              },
            },
            {
              "name": "smtRuleEnd",
              "type": {
                "nullable": true,
                "postgresType": "text",
                "type": 2,
              },
            },
            {
              "name": "smtRuleStartOn",
              "type": {
                "nullable": true,
                "postgresType": "date",
                "type": 6,
              },
            },
            {
              "name": "multiplier",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "meterId",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "indexPosition",
              "type": {
                "nullable": true,
                "postgresType": "int4",
                "type": 3,
              },
            },
          ],
          "nullable": false,
          "postgresType": "json",
          "type": 13,
        },
        "postgresType": "anyarray",
        "type": 11,
      },
    },
  ],
  "results": [
    {
      "name": "index_position",
      "type": {
        "postgresType": "int4",
        "type": 3,
      },
    },
  ],
}
`;

exports[`Load Files Should convert complex sql update-with-cte-from-values.sql: update-with-cte-from-values.sql 1`] = `
{
  "params": [
    {
      "accessor": undefined,
      "name": "registers",
      "type": {
        "items": {
          "items": [
            {
              "name": "id",
              "type": {
                "nullable": false,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "customerLabel",
              "type": {
                "nullable": false,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "industryLabel",
              "type": {
                "nullable": false,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "smtRuleStart",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "smtRuleEnd",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "smtRuleStartOn",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "multiplier",
              "type": {
                "nullable": false,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "meterId",
              "type": {
                "nullable": false,
                "postgresType": "any",
                "type": 9,
              },
            },
            {
              "name": "indexPosition",
              "type": {
                "nullable": true,
                "postgresType": "any",
                "type": 9,
              },
            },
          ],
          "nullable": false,
          "postgresType": "json",
          "type": 13,
        },
        "postgresType": "anyarray",
        "type": 11,
      },
    },
  ],
  "results": [],
}
`;
