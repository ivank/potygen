// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Query Interface Should convert complex sql account-levelisation.update.query.sql: account-levelisation.update.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 65,
      "name": "isAccepted",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 55,
      "type": Object {
        "column": "is_accepted",
        "schema": undefined,
        "sourceTag": Object {
          "end": 51,
          "start": 41,
          "tag": "UnquotedIdentifier",
          "value": "is_accepted",
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 108,
      "name": "id",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 106,
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 102,
          "start": 79,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 99,
              "start": 79,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 102,
              "start": 101,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 127,
          "start": 126,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 127,
              "start": 126,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "isAccepted",
      "type": Object {
        "column": "is_accepted",
        "schema": undefined,
        "sourceTag": Object {
          "end": 144,
          "start": 134,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 144,
              "start": 134,
              "tag": "UnquotedIdentifier",
              "value": "is_accepted",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "account_levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 29,
        "start": 9,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 29,
            "start": 9,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 29,
                "start": 9,
                "tag": "UnquotedIdentifier",
                "value": "account_levelisations",
              },
            ],
          },
        ],
      },
      "table": "account_levelisations",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql account-levelisation.upsert.query.sql: account-levelisation.upsert.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 182,
      "name": "levelisationId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 168,
      "type": Object {
        "column": "levelisation_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 664,
          "start": 1,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 35,
              "start": 15,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 35,
                  "start": 15,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 35,
                      "start": 15,
                      "tag": "UnquotedIdentifier",
                      "value": "account_levelisations",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 89,
              "start": 37,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 47,
                  "start": 38,
                  "tag": "UnquotedIdentifier",
                  "value": "account_id",
                },
                Object {
                  "end": 64,
                  "start": 50,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_id",
                },
                Object {
                  "end": 81,
                  "start": 67,
                  "tag": "UnquotedIdentifier",
                  "value": "levelisation_id",
                },
                Object {
                  "end": 88,
                  "start": 84,
                  "tag": "UnquotedIdentifier",
                  "value": "state",
                },
              ],
            },
            Object {
              "end": 551,
              "start": 91,
              "tag": "Select",
              "values": Array [
                Object {
                  "end": 214,
                  "start": 100,
                  "tag": "SelectList",
                  "values": Array [
                    Object {
                      "end": 124,
                      "start": 100,
                      "tag": "SelectListItem",
                      "values": Array [
                        Object {
                          "end": 110,
                          "start": 100,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 107,
                              "start": 100,
                              "tag": "UnquotedIdentifier",
                              "value": "accounts",
                            },
                            Object {
                              "end": 110,
                              "start": 109,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                        Object {
                          "end": 124,
                          "start": 112,
                          "tag": "As",
                          "values": Array [
                            Object {
                              "end": 124,
                              "start": 115,
                              "tag": "UnquotedIdentifier",
                              "value": "account_id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 163,
                      "start": 129,
                      "tag": "SelectListItem",
                      "values": Array [
                        Object {
                          "end": 144,
                          "start": 129,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 141,
                              "start": 129,
                              "tag": "UnquotedIdentifier",
                              "value": "installations",
                            },
                            Object {
                              "end": 144,
                              "start": 143,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                        Object {
                          "end": 163,
                          "start": 146,
                          "tag": "As",
                          "values": Array [
                            Object {
                              "end": 163,
                              "start": 149,
                              "tag": "UnquotedIdentifier",
                              "value": "installation_id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 201,
                      "start": 168,
                      "tag": "SelectListItem",
                      "values": Array [
                        Object {
                          "end": 182,
                          "pick": Array [],
                          "required": false,
                          "start": 168,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "levelisationId",
                        },
                        Object {
                          "end": 201,
                          "start": 184,
                          "tag": "As",
                          "values": Array [
                            Object {
                              "end": 201,
                              "start": 187,
                              "tag": "UnquotedIdentifier",
                              "value": "levelisation_id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 214,
                      "start": 206,
                      "tag": "SelectListItem",
                      "values": Array [
                        Object {
                          "end": 214,
                          "start": 206,
                          "tag": "String",
                          "value": "Pending",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 353,
                  "start": 216,
                  "tag": "From",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 221,
                      "tag": "FromList",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 221,
                          "tag": "Table",
                          "values": Array [
                            Object {
                              "end": 228,
                              "start": 221,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 228,
                                  "start": 221,
                                  "tag": "UnquotedIdentifier",
                                  "value": "accounts",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 281,
                      "start": 230,
                      "tag": "Join",
                      "values": Array [
                        Object {
                          "end": 233,
                          "start": 230,
                          "tag": "JoinType",
                          "value": "JOIN",
                        },
                        Object {
                          "end": 243,
                          "start": 235,
                          "tag": "Table",
                          "values": Array [
                            Object {
                              "end": 243,
                              "start": 235,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 243,
                                  "start": 235,
                                  "tag": "UnquotedIdentifier",
                                  "value": "contracts",
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 281,
                          "start": 245,
                          "tag": "JoinOn",
                          "values": Array [
                            Object {
                              "end": 281,
                              "start": 248,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 267,
                                  "start": 248,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 256,
                                      "start": 248,
                                      "tag": "UnquotedIdentifier",
                                      "value": "contracts",
                                    },
                                    Object {
                                      "end": 267,
                                      "start": 258,
                                      "tag": "UnquotedIdentifier",
                                      "value": "account_id",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 269,
                                  "start": 269,
                                  "tag": "BinaryOperator",
                                  "value": "=",
                                },
                                Object {
                                  "end": 281,
                                  "start": 271,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 278,
                                      "start": 271,
                                      "tag": "UnquotedIdentifier",
                                      "value": "accounts",
                                    },
                                    Object {
                                      "end": 281,
                                      "start": 280,
                                      "tag": "UnquotedIdentifier",
                                      "value": "id",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 353,
                      "start": 283,
                      "tag": "Join",
                      "values": Array [
                        Object {
                          "end": 291,
                          "start": 283,
                          "tag": "JoinType",
                          "value": "LEFT JOIN",
                        },
                        Object {
                          "end": 305,
                          "start": 293,
                          "tag": "Table",
                          "values": Array [
                            Object {
                              "end": 305,
                              "start": 293,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 305,
                                  "start": 293,
                                  "tag": "UnquotedIdentifier",
                                  "value": "installations",
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 353,
                          "start": 307,
                          "tag": "JoinOn",
                          "values": Array [
                            Object {
                              "end": 353,
                              "start": 310,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 334,
                                  "start": 310,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 318,
                                      "start": 310,
                                      "tag": "UnquotedIdentifier",
                                      "value": "contracts",
                                    },
                                    Object {
                                      "end": 334,
                                      "start": 320,
                                      "tag": "UnquotedIdentifier",
                                      "value": "installation_id",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 336,
                                  "start": 336,
                                  "tag": "BinaryOperator",
                                  "value": "=",
                                },
                                Object {
                                  "end": 353,
                                  "start": 338,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 350,
                                      "start": 338,
                                      "tag": "UnquotedIdentifier",
                                      "value": "installations",
                                    },
                                    Object {
                                      "end": 353,
                                      "start": 352,
                                      "tag": "UnquotedIdentifier",
                                      "value": "id",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 512,
                  "start": 355,
                  "tag": "Where",
                  "values": Array [
                    Object {
                      "end": 512,
                      "start": 363,
                      "tag": "BinaryExpression",
                      "values": Array [
                        Object {
                          "end": 416,
                          "start": 363,
                          "tag": "WrappedExpression",
                          "values": Array [
                            Object {
                              "end": 415,
                              "start": 364,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 386,
                                  "start": 364,
                                  "tag": "BinaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 378,
                                      "start": 364,
                                      "tag": "Column",
                                      "values": Array [
                                        Object {
                                          "end": 371,
                                          "start": 364,
                                          "tag": "UnquotedIdentifier",
                                          "value": "accounts",
                                        },
                                        Object {
                                          "end": 378,
                                          "start": 373,
                                          "tag": "UnquotedIdentifier",
                                          "value": "end_on",
                                        },
                                      ],
                                    },
                                    Object {
                                      "end": 381,
                                      "start": 380,
                                      "tag": "BinaryOperator",
                                      "value": "IS",
                                    },
                                    Object {
                                      "end": 386,
                                      "start": 383,
                                      "tag": "Null",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 389,
                                  "start": 388,
                                  "tag": "BinaryOperator",
                                  "value": "OR",
                                },
                                Object {
                                  "end": 415,
                                  "start": 391,
                                  "tag": "BinaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 405,
                                      "start": 391,
                                      "tag": "Column",
                                      "values": Array [
                                        Object {
                                          "end": 398,
                                          "start": 391,
                                          "tag": "UnquotedIdentifier",
                                          "value": "accounts",
                                        },
                                        Object {
                                          "end": 405,
                                          "start": 400,
                                          "tag": "UnquotedIdentifier",
                                          "value": "end_on",
                                        },
                                      ],
                                    },
                                    Object {
                                      "end": 408,
                                      "start": 407,
                                      "tag": "BinaryOperator",
                                      "value": ">=",
                                    },
                                    Object {
                                      "end": 415,
                                      "pick": Array [],
                                      "required": false,
                                      "start": 410,
                                      "tag": "Parameter",
                                      "type": "single",
                                      "value": "start",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 422,
                          "start": 420,
                          "tag": "BinaryOperator",
                          "value": "AND",
                        },
                        Object {
                          "end": 512,
                          "start": 424,
                          "tag": "BinaryExpression",
                          "values": Array [
                            Object {
                              "end": 444,
                              "start": 424,
                              "tag": "Column",
                              "values": Array [
                                Object {
                                  "end": 432,
                                  "start": 424,
                                  "tag": "UnquotedIdentifier",
                                  "value": "contracts",
                                },
                                Object {
                                  "end": 444,
                                  "start": 434,
                                  "tag": "UnquotedIdentifier",
                                  "value": "export_type",
                                },
                              ],
                            },
                            Object {
                              "end": 446,
                              "start": 446,
                              "tag": "BinaryOperator",
                              "value": "=",
                            },
                            Object {
                              "end": 512,
                              "start": 448,
                              "tag": "Function",
                              "values": Array [
                                Object {
                                  "end": 450,
                                  "start": 448,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 450,
                                      "start": 448,
                                      "tag": "UnquotedIdentifier",
                                      "value": "ANY",
                                    },
                                  ],
                                },
                                Object {
                                  "nextPos": 512,
                                  "pos": 452,
                                  "tag": "PgCast",
                                  "values": Array [
                                    Object {
                                      "end": 483,
                                      "start": 452,
                                      "tag": "ArrayConstructor",
                                      "values": Array [
                                        Object {
                                          "end": 473,
                                          "start": 458,
                                          "tag": "String",
                                          "value": "Metered Export",
                                        },
                                        Object {
                                          "end": 482,
                                          "start": 475,
                                          "tag": "String",
                                          "value": "Deemed",
                                        },
                                      ],
                                    },
                                    Object {
                                      "end": 511,
                                      "start": 486,
                                      "tag": "TypeArray",
                                      "values": Array [
                                        Object {
                                          "end": 509,
                                          "start": 486,
                                          "tag": "Type",
                                          "values": Array [
                                            Object {
                                              "end": 509,
                                              "start": 486,
                                              "tag": "QualifiedIdentifier",
                                              "values": Array [
                                                Object {
                                                  "end": 509,
                                                  "start": 486,
                                                  "tag": "UnquotedIdentifier",
                                                  "value": "installation_export_type",
                                                },
                                              ],
                                            },
                                          ],
                                        },
                                        Object {
                                          "end": 511,
                                          "start": 510,
                                          "tag": "Dimension",
                                        },
                                      ],
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 551,
                  "start": 514,
                  "tag": "GroupBy",
                  "values": Array [
                    Object {
                      "end": 533,
                      "start": 523,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 530,
                          "start": 523,
                          "tag": "UnquotedIdentifier",
                          "value": "accounts",
                        },
                        Object {
                          "end": 533,
                          "start": 532,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                    Object {
                      "end": 551,
                      "start": 536,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 548,
                          "start": 536,
                          "tag": "UnquotedIdentifier",
                          "value": "installations",
                        },
                        Object {
                          "end": 551,
                          "start": 550,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 649,
              "start": 553,
              "tag": "Conflict",
              "values": Array [
                Object {
                  "end": 610,
                  "start": 565,
                  "tag": "ConflictTarget",
                  "values": Array [
                    Object {
                      "end": 575,
                      "start": 566,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 575,
                          "start": 566,
                          "tag": "UnquotedIdentifier",
                          "value": "account_id",
                        },
                      ],
                    },
                    Object {
                      "end": 592,
                      "start": 578,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 592,
                          "start": 578,
                          "tag": "UnquotedIdentifier",
                          "value": "installation_id",
                        },
                      ],
                    },
                    Object {
                      "end": 609,
                      "start": 595,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 609,
                          "start": 595,
                          "tag": "UnquotedIdentifier",
                          "value": "levelisation_id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 649,
                  "start": 612,
                  "tag": "DoUpdate",
                  "values": Array [
                    Object {
                      "end": 649,
                      "start": 622,
                      "tag": "Set",
                      "values": Array [
                        Object {
                          "end": 649,
                          "start": 628,
                          "tag": "SetList",
                          "values": Array [
                            Object {
                              "end": 649,
                              "start": 628,
                              "tag": "SetItem",
                              "values": Array [
                                Object {
                                  "end": 632,
                                  "start": 628,
                                  "tag": "UnquotedIdentifier",
                                  "value": "state",
                                },
                                Object {
                                  "end": 649,
                                  "start": 636,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 643,
                                      "start": 636,
                                      "tag": "UnquotedIdentifier",
                                      "value": "EXCLUDED",
                                    },
                                    Object {
                                      "end": 649,
                                      "start": 645,
                                      "tag": "UnquotedIdentifier",
                                      "value": "state",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 664,
              "start": 651,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 664,
                  "start": 663,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 664,
                      "start": 663,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 664,
                          "start": 663,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 415,
      "name": "start",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 410,
      "type": Object {
        "column": "end_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 405,
          "start": 391,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 398,
              "start": 391,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 405,
              "start": 400,
              "tag": "UnquotedIdentifier",
              "value": "end_on",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 664,
          "start": 663,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 664,
              "start": 663,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "account_levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 35,
        "start": 15,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 35,
            "start": 15,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 35,
                "start": 15,
                "tag": "UnquotedIdentifier",
                "value": "account_levelisations",
              },
            ],
          },
        ],
      },
      "table": "account_levelisations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 228,
        "start": 221,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 228,
            "start": 221,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 228,
                "start": 221,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 243,
        "start": 235,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 243,
            "start": 235,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 243,
                "start": 235,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 305,
        "start": 293,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 305,
            "start": 293,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 305,
                "start": 293,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql account-levelisations.query.sql: account-levelisations.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 2306,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2305,
      "type": Object {
        "literal": "",
        "type": "String",
      },
    },
    Object {
      "end": 2355,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2354,
      "type": Object {
        "column": "scheme_account_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2350,
          "start": 2317,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2325,
              "start": 2317,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 2350,
              "start": 2327,
              "tag": "UnquotedIdentifier",
              "value": "scheme_account_reference",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2381,
      "name": "resolvedPostlev",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2366,
      "type": Object {
        "literal": "",
        "type": "String",
      },
    },
    Object {
      "end": 2407,
      "name": "resolvedPostlev",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2392,
      "type": Object {
        "name": "bool",
        "type": "Named",
        "value": Object {
          "type": "Boolean",
        },
      },
    },
    Object {
      "end": 2497,
      "name": "state",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2492,
      "type": Object {
        "name": "account_levelisation_state",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2525,
          "start": 2500,
          "tag": "Type",
          "values": Array [
            Object {
              "end": 2525,
              "start": 2500,
              "tag": "QualifiedIdentifier",
              "values": Array [
                Object {
                  "end": 2525,
                  "start": 2500,
                  "tag": "UnquotedIdentifier",
                  "value": "account_levelisation_state",
                },
              ],
            },
          ],
        },
        "type": "LoadRecord",
      },
    },
    Object {
      "end": 2574,
      "name": "state",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2569,
      "type": Object {
        "column": "state",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2565,
          "start": 2539,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2559,
              "start": 2539,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 2565,
              "start": 2561,
              "tag": "UnquotedIdentifier",
              "value": "state",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2599,
      "name": "levelisationId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2585,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
    Object {
      "end": 2671,
      "name": "levelisationId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2657,
      "type": Object {
        "column": "levelisation_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2653,
          "start": 2617,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2637,
              "start": 2617,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 2653,
              "start": 2639,
              "tag": "UnquotedIdentifier",
              "value": "levelisation_id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2759,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2756,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
    Object {
      "end": 2891,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2882,
      "type": Object {
        "literal": "totalPayment",
        "type": "String",
      },
    },
    Object {
      "end": 2923,
      "name": "sortOrder",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2914,
      "type": Object {
        "literal": "DESC",
        "type": "String",
      },
    },
    Object {
      "end": 3038,
      "name": "sortOrder",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 3029,
      "type": Object {
        "literal": "ASC",
        "type": "String",
      },
    },
    Object {
      "end": 3119,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 3110,
      "type": Object {
        "literal": "vatPayment",
        "type": "String",
      },
    },
    Object {
      "end": 3339,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 3330,
      "type": Object {
        "literal": "generationPayment",
        "type": "String",
      },
    },
    Object {
      "end": 3587,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 3578,
      "type": Object {
        "literal": "exportPayment",
        "type": "String",
      },
    },
    Object {
      "end": 3819,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 3810,
      "type": Object {
        "literal": "generationEnergy",
        "type": "String",
      },
    },
    Object {
      "end": 4063,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 4054,
      "type": Object {
        "literal": "exportEnergy",
        "type": "String",
      },
    },
    Object {
      "end": 4291,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 4282,
      "type": Object {
        "literal": "cfrFitId",
        "type": "String",
      },
    },
    Object {
      "end": 4509,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 4500,
      "type": Object {
        "literal": "state",
        "type": "String",
      },
    },
    Object {
      "end": 4707,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 4698,
      "type": Object {
        "literal": "isAccepted",
        "type": "String",
      },
    },
    Object {
      "end": 4927,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 4918,
      "type": Object {
        "literal": "error",
        "type": "String",
      },
    },
    Object {
      "end": 5116,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 5107,
      "type": Object {
        "literal": "exportType",
        "type": "String",
      },
    },
    Object {
      "end": 5352,
      "name": "limit",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 5347,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
    Object {
      "end": 5372,
      "name": "offset",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 5366,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 32,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 29,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 32,
              "start": 31,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "levelisationId",
      "type": Object {
        "column": "levelisation_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 81,
          "start": 45,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 65,
              "start": 45,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 81,
              "start": 67,
              "tag": "UnquotedIdentifier",
              "value": "levelisation_id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "accountId",
      "type": Object {
        "column": "account_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 137,
          "start": 106,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 126,
              "start": 106,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 137,
              "start": 128,
              "tag": "UnquotedIdentifier",
              "value": "account_id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "installationId",
      "type": Object {
        "column": "installation_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 193,
          "start": 157,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 177,
              "start": 157,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 193,
              "start": 179,
              "tag": "UnquotedIdentifier",
              "value": "installation_id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "state",
      "type": Object {
        "column": "state",
        "schema": undefined,
        "sourceTag": Object {
          "end": 244,
          "start": 218,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 238,
              "start": 218,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 244,
              "start": 240,
              "tag": "UnquotedIdentifier",
              "value": "state",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "isAccepted",
      "type": Object {
        "column": "is_accepted",
        "schema": undefined,
        "sourceTag": Object {
          "end": 292,
          "start": 260,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 280,
              "start": 260,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 292,
              "start": 282,
              "tag": "UnquotedIdentifier",
              "value": "is_accepted",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationStartReadOn",
      "type": Object {
        "column": "generation_start_read_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 358,
          "start": 313,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 333,
              "start": 313,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 358,
              "start": 335,
              "tag": "UnquotedIdentifier",
              "value": "generation_start_read_on",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationStartReadValue",
      "type": Object {
        "column": "generation_start_read_value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 438,
          "start": 390,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 410,
              "start": 390,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 438,
              "start": 412,
              "tag": "UnquotedIdentifier",
              "value": "generation_start_read_value",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationEndReadOn",
      "type": Object {
        "column": "generation_end_read_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 516,
          "start": 473,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 493,
              "start": 473,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 516,
              "start": 495,
              "tag": "UnquotedIdentifier",
              "value": "generation_end_read_on",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationEndReadValue",
      "type": Object {
        "column": "generation_end_read_value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 592,
          "start": 546,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 566,
              "start": 546,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 592,
              "start": 568,
              "tag": "UnquotedIdentifier",
              "value": "generation_end_read_value",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationPercentageSplit",
      "type": Object {
        "column": "generation_percentage_split",
        "schema": undefined,
        "sourceTag": Object {
          "end": 673,
          "start": 625,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 645,
              "start": 625,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 673,
              "start": 647,
              "tag": "UnquotedIdentifier",
              "value": "generation_percentage_split",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationPayment",
      "type": Object {
        "column": "generation_payment",
        "schema": undefined,
        "sourceTag": Object {
          "end": 748,
          "start": 709,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 729,
              "start": 709,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 748,
              "start": 731,
              "tag": "UnquotedIdentifier",
              "value": "generation_payment",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationEnergy",
      "type": Object {
        "column": "generation_energy",
        "schema": undefined,
        "sourceTag": Object {
          "end": 814,
          "start": 776,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 796,
              "start": 776,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 814,
              "start": 798,
              "tag": "UnquotedIdentifier",
              "value": "generation_energy",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportStartReadOn",
      "type": Object {
        "column": "export_start_read_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 882,
          "start": 841,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 861,
              "start": 841,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 882,
              "start": 863,
              "tag": "UnquotedIdentifier",
              "value": "export_start_read_on",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportStartReadValue",
      "type": Object {
        "column": "export_start_read_value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 954,
          "start": 910,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 930,
              "start": 910,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 954,
              "start": 932,
              "tag": "UnquotedIdentifier",
              "value": "export_start_read_value",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportEndReadOn",
      "type": Object {
        "column": "export_end_read_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1024,
          "start": 985,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1005,
              "start": 985,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1024,
              "start": 1007,
              "tag": "UnquotedIdentifier",
              "value": "export_end_read_on",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportEndReadValue",
      "type": Object {
        "column": "export_end_read_value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1092,
          "start": 1050,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1070,
              "start": 1050,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1092,
              "start": 1072,
              "tag": "UnquotedIdentifier",
              "value": "export_end_read_value",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportPercentageSplit",
      "type": Object {
        "column": "export_percentage_split",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1165,
          "start": 1121,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1141,
              "start": 1121,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1165,
              "start": 1143,
              "tag": "UnquotedIdentifier",
              "value": "export_percentage_split",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportPayment",
      "type": Object {
        "column": "export_payment",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1232,
          "start": 1197,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1217,
              "start": 1197,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1232,
              "start": 1219,
              "tag": "UnquotedIdentifier",
              "value": "export_payment",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportEnergy",
      "type": Object {
        "column": "export_energy",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1290,
          "start": 1256,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1276,
              "start": 1256,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1290,
              "start": 1278,
              "tag": "UnquotedIdentifier",
              "value": "export_energy",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportType",
      "type": Object {
        "column": "export_type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1345,
          "start": 1313,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1333,
              "start": 1313,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1345,
              "start": 1335,
              "tag": "UnquotedIdentifier",
              "value": "export_type",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "technologyType",
      "type": Object {
        "column": "technology_type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1402,
          "start": 1366,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1386,
              "start": 1366,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1402,
              "start": 1388,
              "tag": "UnquotedIdentifier",
              "value": "technology_type",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "totalPayment",
      "type": Object {
        "column": "total_payment",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1461,
          "start": 1427,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1447,
              "start": 1427,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1461,
              "start": 1449,
              "tag": "UnquotedIdentifier",
              "value": "total_payment",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "vatPayment",
      "type": Object {
        "column": "vat_payment",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1516,
          "start": 1484,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1504,
              "start": 1484,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1516,
              "start": 1506,
              "tag": "UnquotedIdentifier",
              "value": "vat_payment",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "generationPeriods",
      "type": Object {
        "column": "generation_periods",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1576,
          "start": 1537,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1557,
              "start": 1537,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1576,
              "start": 1559,
              "tag": "UnquotedIdentifier",
              "value": "generation_periods",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "exportPeriods",
      "type": Object {
        "column": "export_periods",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1639,
          "start": 1604,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1624,
              "start": 1604,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1639,
              "start": 1626,
              "tag": "UnquotedIdentifier",
              "value": "export_periods",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "errorCode",
      "type": Object {
        "available": Array [
          Array [
            Object {
              "type": "Json",
            },
            Object {
              "type": "Number",
            },
            Object {
              "type": "String",
            },
          ],
          Array [
            Object {
              "type": "Json",
            },
            Object {
              "type": "String",
            },
            Object {
              "type": "String",
            },
          ],
        ],
        "index": 2,
        "left": Object {
          "column": "payload",
          "schema": undefined,
          "sourceTag": Object {
            "end": 1676,
            "start": 1663,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 1668,
                "start": 1663,
                "tag": "UnquotedIdentifier",
                "value": "issues",
              },
              Object {
                "end": 1676,
                "start": 1670,
                "tag": "UnquotedIdentifier",
                "value": "payload",
              },
            ],
          },
          "table": "issues",
          "type": "LoadColumn",
        },
        "right": Object {
          "literal": "code",
          "type": "String",
        },
        "sourceTag": Object {
          "end": 1685,
          "start": 1663,
          "tag": "BinaryExpression",
          "values": Array [
            Object {
              "end": 1676,
              "start": 1663,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 1668,
                  "start": 1663,
                  "tag": "UnquotedIdentifier",
                  "value": "issues",
                },
                Object {
                  "end": 1676,
                  "start": 1670,
                  "tag": "UnquotedIdentifier",
                  "value": "payload",
                },
              ],
            },
            Object {
              "end": 1679,
              "start": 1677,
              "tag": "BinaryOperator",
              "value": "->>",
            },
            Object {
              "end": 1685,
              "start": 1680,
              "tag": "String",
              "value": "code",
            },
          ],
        },
        "type": "LoadOperator",
      },
    },
    Object {
      "name": "errorParams",
      "type": Object {
        "available": Array [
          Array [
            Object {
              "type": "Json",
            },
            Object {
              "type": "Number",
            },
            Object {
              "type": "Json",
            },
          ],
          Array [
            Object {
              "type": "Json",
            },
            Object {
              "type": "String",
            },
            Object {
              "type": "Json",
            },
          ],
        ],
        "index": 2,
        "left": Object {
          "column": "payload",
          "schema": undefined,
          "sourceTag": Object {
            "end": 1718,
            "start": 1705,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 1710,
                "start": 1705,
                "tag": "UnquotedIdentifier",
                "value": "issues",
              },
              Object {
                "end": 1718,
                "start": 1712,
                "tag": "UnquotedIdentifier",
                "value": "payload",
              },
            ],
          },
          "table": "issues",
          "type": "LoadColumn",
        },
        "right": Object {
          "literal": "params",
          "type": "String",
        },
        "sourceTag": Object {
          "end": 1728,
          "start": 1705,
          "tag": "BinaryExpression",
          "values": Array [
            Object {
              "end": 1718,
              "start": 1705,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 1710,
                  "start": 1705,
                  "tag": "UnquotedIdentifier",
                  "value": "issues",
                },
                Object {
                  "end": 1718,
                  "start": 1712,
                  "tag": "UnquotedIdentifier",
                  "value": "payload",
                },
              ],
            },
            Object {
              "end": 1720,
              "start": 1719,
              "tag": "BinaryOperator",
              "value": "->",
            },
            Object {
              "end": 1728,
              "start": 1721,
              "tag": "String",
              "value": "params",
            },
          ],
        },
        "type": "LoadOperator",
      },
    },
    Object {
      "name": "cfrFitId",
      "type": Object {
        "column": "scheme_account_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1783,
          "start": 1750,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1758,
              "start": 1750,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 1783,
              "start": 1760,
              "tag": "UnquotedIdentifier",
              "value": "scheme_account_reference",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "resolvedPostlevId",
      "type": Object {
        "column": "resolved_postlev_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1842,
          "start": 1802,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1822,
              "start": 1802,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1842,
              "start": 1824,
              "tag": "UnquotedIdentifier",
              "value": "resolved_postlev_id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "isBacsPaymentsSent",
      "type": Object {
        "column": "is_bacs_payments_sent",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1912,
          "start": 1870,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1890,
              "start": 1870,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1912,
              "start": 1892,
              "tag": "UnquotedIdentifier",
              "value": "is_bacs_payments_sent",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "isChequePaymentsSent",
      "type": Object {
        "column": "is_cheque_payments_sent",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1985,
          "start": 1941,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1961,
              "start": 1941,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 1985,
              "start": 1963,
              "tag": "UnquotedIdentifier",
              "value": "is_cheque_payments_sent",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "account_levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 2039,
        "start": 2019,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2039,
            "start": 2019,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2039,
                "start": 2019,
                "tag": "UnquotedIdentifier",
                "value": "account_levelisations",
              },
            ],
          },
        ],
      },
      "table": "account_levelisations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "issues",
      "schema": undefined,
      "sourceTag": Object {
        "end": 2056,
        "start": 2051,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2056,
            "start": 2051,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2056,
                "start": 2051,
                "tag": "UnquotedIdentifier",
                "value": "issues",
              },
            ],
          },
        ],
      },
      "table": "issues",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 2213,
        "start": 2205,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2213,
            "start": 2205,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2213,
                "start": 2205,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql account-levelisations-bulk-close-accounts.query.sql: account-levelisations-bulk-close-accounts.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 197,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 194,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 414,
          "start": 391,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 411,
              "start": 391,
              "tag": "UnquotedIdentifier",
              "value": "account_levelisations",
            },
            Object {
              "end": 414,
              "start": 413,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 14,
        "start": 7,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 14,
            "start": 7,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 14,
                "start": 7,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "account_levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 62,
        "start": 42,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 62,
            "start": 42,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 62,
                "start": 42,
                "tag": "UnquotedIdentifier",
                "value": "account_levelisations",
              },
            ],
          },
        ],
      },
      "table": "account_levelisations",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql account-levelisations-set-bulk-update.query.sql: account-levelisations-set-bulk-update.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 532,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 529,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 576,
          "start": 575,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 576,
              "start": 575,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "account_levelisations",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "account_levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 27,
        "start": 7,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 27,
            "start": 7,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 27,
                "start": 7,
                "tag": "UnquotedIdentifier",
                "value": "account_levelisations",
              },
            ],
          },
        ],
      },
      "table": "account_levelisations",
      "type": "Table",
    },
    Object {
      "isResult": false,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 117,
        "start": 110,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 117,
            "start": 110,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 117,
                "start": 110,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": false,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 347,
        "start": 340,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 347,
            "start": 340,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 347,
                "start": 340,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql accounts.list.query.sql: accounts.list.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 739,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 738,
      "type": Object {
        "literal": "",
        "type": "String",
      },
    },
    Object {
      "end": 854,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 853,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 854,
          "pick": Array [],
          "required": false,
          "start": 853,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 961,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 960,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 961,
          "pick": Array [],
          "required": false,
          "start": 960,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1133,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1132,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1133,
          "pick": Array [],
          "required": false,
          "start": 1132,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1300,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1299,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1300,
          "pick": Array [],
          "required": false,
          "start": 1299,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1539,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1538,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1539,
          "pick": Array [],
          "required": false,
          "start": 1538,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1615,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1614,
      "type": Object {
        "column": Object {
          "column": "id",
          "schema": undefined,
          "sourceTag": Object {
            "end": 1601,
            "start": 1591,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 1598,
                "start": 1591,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
              Object {
                "end": 1601,
                "start": 1600,
                "tag": "UnquotedIdentifier",
                "value": "id",
              },
            ],
          },
          "table": "accounts",
          "type": "LoadColumn",
        },
        "type": "LoadColumnCast",
        "value": Object {
          "name": "varchar",
          "type": "Named",
          "value": Object {
            "type": "String",
          },
        },
      },
    },
    Object {
      "end": 1653,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1652,
      "type": Object {
        "column": "supply_mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1648,
          "start": 1624,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1636,
              "start": 1624,
              "tag": "UnquotedIdentifier",
              "value": "installations",
            },
            Object {
              "end": 1648,
              "start": 1638,
              "tag": "UnquotedIdentifier",
              "value": "supply_mpan",
            },
          ],
        },
        "table": "installations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1691,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1690,
      "type": Object {
        "column": "export_mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1686,
          "start": 1662,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1674,
              "start": 1662,
              "tag": "UnquotedIdentifier",
              "value": "installations",
            },
            Object {
              "end": 1686,
              "start": 1676,
              "tag": "UnquotedIdentifier",
              "value": "export_mpan",
            },
          ],
        },
        "table": "installations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1726,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1725,
      "type": Object {
        "column": "generator_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1721,
          "start": 1700,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1708,
              "start": 1700,
              "tag": "UnquotedIdentifier",
              "value": "customers",
            },
            Object {
              "end": 1721,
              "start": 1710,
              "tag": "UnquotedIdentifier",
              "value": "generator_id",
            },
          ],
        },
        "table": "customers",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1774,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1773,
      "type": Object {
        "column": "beneficiary_account_number",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1769,
          "start": 1735,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1742,
              "start": 1735,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 1769,
              "start": 1744,
              "tag": "UnquotedIdentifier",
              "value": "beneficiary_account_number",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1821,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1820,
      "type": Object {
        "column": "scheme_account_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1816,
          "start": 1783,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1791,
              "start": 1783,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 1816,
              "start": 1793,
              "tag": "UnquotedIdentifier",
              "value": "scheme_account_reference",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1913,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1910,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "total",
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 61,
        "start": 54,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 61,
            "start": 54,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 61,
                "start": 54,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "customers",
      "schema": undefined,
      "sourceTag": Object {
        "end": 132,
        "start": 124,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 132,
            "start": 124,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 132,
                "start": 124,
                "tag": "UnquotedIdentifier",
                "value": "customers",
              },
            ],
          },
        ],
      },
      "table": "customers",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contacts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 185,
        "start": 178,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 185,
            "start": 178,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 185,
                "start": 178,
                "tag": "UnquotedIdentifier",
                "value": "contacts",
              },
            ],
          },
        ],
      },
      "table": "contacts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 246,
        "start": 238,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 246,
            "start": 238,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 246,
                "start": 238,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 299,
        "start": 291,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 299,
            "start": 291,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 299,
                "start": 291,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 356,
        "start": 344,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 356,
            "start": 344,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 356,
                "start": 344,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installation_addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 445,
        "start": 411,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 419,
            "start": 411,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 419,
                "start": 411,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
          Object {
            "end": 445,
            "start": 421,
            "tag": "As",
            "values": Array [
              Object {
                "end": 445,
                "start": 424,
                "tag": "UnquotedIdentifier",
                "value": "installation_addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql accounts.query.sql: accounts.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 1193,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1192,
      "type": Object {
        "literal": "",
        "type": "String",
      },
    },
    Object {
      "end": 1316,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1315,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1316,
          "pick": Array [],
          "required": false,
          "start": 1315,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1496,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1495,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1496,
          "pick": Array [],
          "required": false,
          "start": 1495,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1671,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1670,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1671,
          "pick": Array [],
          "required": false,
          "start": 1670,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1918,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1917,
      "type": Object {
        "args": Array [
          Object {
            "literal": "english",
            "type": "String",
          },
          Object {
            "type": "Any",
          },
        ],
        "index": 1,
        "name": "plainto_tsquery",
        "sourceTag": Object {
          "end": 1918,
          "pick": Array [],
          "required": false,
          "start": 1917,
          "tag": "Parameter",
          "type": "single",
          "value": "q",
        },
        "type": "LoadFunctionArgument",
      },
    },
    Object {
      "end": 1998,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1997,
      "type": Object {
        "column": Object {
          "column": "id",
          "schema": undefined,
          "sourceTag": Object {
            "end": 1984,
            "start": 1974,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 1981,
                "start": 1974,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
              Object {
                "end": 1984,
                "start": 1983,
                "tag": "UnquotedIdentifier",
                "value": "id",
              },
            ],
          },
          "table": "accounts",
          "type": "LoadColumn",
        },
        "type": "LoadColumnCast",
        "value": Object {
          "name": "varchar",
          "type": "Named",
          "value": Object {
            "type": "String",
          },
        },
      },
    },
    Object {
      "end": 2038,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2037,
      "type": Object {
        "column": "supply_mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2033,
          "start": 2009,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2021,
              "start": 2009,
              "tag": "UnquotedIdentifier",
              "value": "installations",
            },
            Object {
              "end": 2033,
              "start": 2023,
              "tag": "UnquotedIdentifier",
              "value": "supply_mpan",
            },
          ],
        },
        "table": "installations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2078,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2077,
      "type": Object {
        "column": "export_mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2073,
          "start": 2049,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2061,
              "start": 2049,
              "tag": "UnquotedIdentifier",
              "value": "installations",
            },
            Object {
              "end": 2073,
              "start": 2063,
              "tag": "UnquotedIdentifier",
              "value": "export_mpan",
            },
          ],
        },
        "table": "installations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2128,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2127,
      "type": Object {
        "column": "beneficiary_account_number",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2123,
          "start": 2089,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2096,
              "start": 2089,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 2123,
              "start": 2098,
              "tag": "UnquotedIdentifier",
              "value": "beneficiary_account_number",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2177,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2176,
      "type": Object {
        "column": "scheme_account_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 2172,
          "start": 2139,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 2147,
              "start": 2139,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 2172,
              "start": 2149,
              "tag": "UnquotedIdentifier",
              "value": "scheme_account_reference",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 2275,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2272,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
    Object {
      "end": 2633,
      "name": "limit",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2628,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
    Object {
      "end": 2653,
      "name": "offset",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 2647,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 49,
          "start": 39,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 46,
              "start": 39,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 49,
              "start": 48,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "state",
      "type": Object {
        "column": "state",
        "schema": undefined,
        "sourceTag": Object {
          "end": 69,
          "start": 56,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 63,
              "start": 56,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 69,
              "start": 65,
              "tag": "UnquotedIdentifier",
              "value": "state",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "startOn",
      "type": Object {
        "column": "start_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 92,
          "start": 76,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 83,
              "start": 76,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 92,
              "start": 85,
              "tag": "UnquotedIdentifier",
              "value": "start_on",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "firstName",
      "type": Object {
        "column": "first_name",
        "schema": undefined,
        "sourceTag": Object {
          "end": 130,
          "start": 112,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 119,
              "start": 112,
              "tag": "UnquotedIdentifier",
              "value": "contacts",
            },
            Object {
              "end": 130,
              "start": 121,
              "tag": "UnquotedIdentifier",
              "value": "first_name",
            },
          ],
        },
        "table": "contacts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "lastName",
      "type": Object {
        "column": "last_name",
        "schema": undefined,
        "sourceTag": Object {
          "end": 169,
          "start": 152,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 159,
              "start": 152,
              "tag": "UnquotedIdentifier",
              "value": "contacts",
            },
            Object {
              "end": 169,
              "start": 161,
              "tag": "UnquotedIdentifier",
              "value": "last_name",
            },
          ],
        },
        "table": "contacts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "email",
      "type": Object {
        "column": "email",
        "schema": undefined,
        "sourceTag": Object {
          "end": 203,
          "start": 190,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 197,
              "start": 190,
              "tag": "UnquotedIdentifier",
              "value": "contacts",
            },
            Object {
              "end": 203,
              "start": 199,
              "tag": "UnquotedIdentifier",
              "value": "email",
            },
          ],
        },
        "table": "contacts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "address",
      "type": Object {
        "args": Array [
          Object {
            "literal": " ",
            "type": "String",
          },
          Object {
            "column": "address_line_1",
            "schema": undefined,
            "sourceTag": Object {
              "end": 274,
              "start": 238,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 259,
                  "start": 238,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 274,
                  "start": 261,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_1",
                },
              ],
            },
            "table": "installation_addresses",
            "type": "LoadColumn",
          },
          Object {
            "column": "address_line_2",
            "schema": undefined,
            "sourceTag": Object {
              "end": 319,
              "start": 283,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 304,
                  "start": 283,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 319,
                  "start": 306,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_2",
                },
              ],
            },
            "table": "installation_addresses",
            "type": "LoadColumn",
          },
          Object {
            "column": "city",
            "schema": undefined,
            "sourceTag": Object {
              "end": 354,
              "start": 328,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 349,
                  "start": 328,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 354,
                  "start": 351,
                  "tag": "UnquotedIdentifier",
                  "value": "city",
                },
              ],
            },
            "table": "installation_addresses",
            "type": "LoadColumn",
          },
          Object {
            "column": "postcode",
            "schema": undefined,
            "sourceTag": Object {
              "end": 393,
              "start": 363,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 384,
                  "start": 363,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 393,
                  "start": 386,
                  "tag": "UnquotedIdentifier",
                  "value": "postcode",
                },
              ],
            },
            "table": "installation_addresses",
            "type": "LoadColumn",
          },
        ],
        "name": "concat_ws",
        "schema": undefined,
        "sourceTag": Object {
          "end": 399,
          "start": 210,
          "tag": "Function",
          "values": Array [
            Object {
              "end": 218,
              "start": 210,
              "tag": "QualifiedIdentifier",
              "values": Array [
                Object {
                  "end": 218,
                  "start": 210,
                  "tag": "UnquotedIdentifier",
                  "value": "CONCAT_WS",
                },
              ],
            },
            Object {
              "end": 229,
              "start": 227,
              "tag": "String",
              "value": " ",
            },
            Object {
              "end": 274,
              "start": 238,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 259,
                  "start": 238,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 274,
                  "start": 261,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_1",
                },
              ],
            },
            Object {
              "end": 319,
              "start": 283,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 304,
                  "start": 283,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 319,
                  "start": 306,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_2",
                },
              ],
            },
            Object {
              "end": 354,
              "start": 328,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 349,
                  "start": 328,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 354,
                  "start": 351,
                  "tag": "UnquotedIdentifier",
                  "value": "city",
                },
              ],
            },
            Object {
              "end": 393,
              "start": 363,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 384,
                  "start": 363,
                  "tag": "UnquotedIdentifier",
                  "value": "installation_addresses",
                },
                Object {
                  "end": 393,
                  "start": 386,
                  "tag": "UnquotedIdentifier",
                  "value": "postcode",
                },
              ],
            },
          ],
        },
        "type": "LoadFunction",
      },
    },
    Object {
      "name": "fitIds",
      "type": Object {
        "items": Object {
          "column": "scheme_account_reference",
          "schema": undefined,
          "sourceTag": Object {
            "end": 462,
            "start": 429,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 437,
                "start": 429,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
              Object {
                "end": 462,
                "start": 439,
                "tag": "UnquotedIdentifier",
                "value": "scheme_account_reference",
              },
            ],
          },
          "table": "contracts",
          "type": "LoadColumn",
        },
        "type": "ToArray",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 491,
        "start": 484,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 491,
            "start": 484,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 491,
                "start": 484,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "customers",
      "schema": undefined,
      "sourceTag": Object {
        "end": 566,
        "start": 558,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 566,
            "start": 558,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 566,
                "start": 558,
                "tag": "UnquotedIdentifier",
                "value": "customers",
              },
            ],
          },
        ],
      },
      "table": "customers",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contacts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 621,
        "start": 614,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 621,
            "start": 614,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 621,
                "start": 614,
                "tag": "UnquotedIdentifier",
                "value": "contacts",
              },
            ],
          },
        ],
      },
      "table": "contacts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 684,
        "start": 676,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 684,
            "start": 676,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 684,
                "start": 676,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 739,
        "start": 731,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 739,
            "start": 731,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 739,
                "start": 731,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 798,
        "start": 786,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 798,
            "start": 786,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 798,
                "start": 786,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installation_addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 889,
        "start": 855,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 863,
            "start": 855,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 863,
                "start": 855,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
          Object {
            "end": 889,
            "start": 865,
            "tag": "As",
            "values": Array [
              Object {
                "end": 889,
                "start": 868,
                "tag": "UnquotedIdentifier",
                "value": "installation_addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql accounts.sql: accounts.sql 1`] = `
Object {
  "params": Array [],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 19,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 19,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 19,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "customers",
      "schema": undefined,
      "sourceTag": Object {
        "end": 288,
        "start": 280,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 288,
            "start": 280,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 288,
                "start": 280,
                "tag": "UnquotedIdentifier",
                "value": "customers",
              },
            ],
          },
        ],
      },
      "table": "customers",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mr",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1181,
        "start": 1163,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1178,
            "start": 1163,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1165,
                "start": 1163,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1178,
                "start": 1167,
                "tag": "UnquotedIdentifier",
                "value": "MeterReading",
              },
            ],
          },
          Object {
            "end": 1181,
            "start": 1180,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1181,
                "start": 1180,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "MeterReading",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mr",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1431,
        "start": 1413,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1428,
            "start": 1413,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1415,
                "start": 1413,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1428,
                "start": 1417,
                "tag": "UnquotedIdentifier",
                "value": "MeterReading",
              },
            ],
          },
          Object {
            "end": 1431,
            "start": 1430,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1431,
                "start": 1430,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "MeterReading",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mr",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1882,
        "start": 1864,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1879,
            "start": 1864,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1866,
                "start": 1864,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1879,
                "start": 1868,
                "tag": "UnquotedIdentifier",
                "value": "MeterReading",
              },
            ],
          },
          Object {
            "end": 1882,
            "start": 1881,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1882,
                "start": 1881,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "MeterReading",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mr",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2198,
        "start": 2180,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2195,
            "start": 2180,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2182,
                "start": 2180,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2195,
                "start": 2184,
                "tag": "UnquotedIdentifier",
                "value": "MeterReading",
              },
            ],
          },
          Object {
            "end": 2198,
            "start": 2197,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2198,
                "start": 2197,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "MeterReading",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ca",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2456,
        "start": 2435,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2453,
            "start": 2435,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2437,
                "start": 2435,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2453,
                "start": 2439,
                "tag": "UnquotedIdentifier",
                "value": "CustomerAccount",
              },
            ],
          },
          Object {
            "end": 2456,
            "start": 2455,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2456,
                "start": 2455,
                "tag": "UnquotedIdentifier",
                "value": "ca",
              },
            ],
          },
        ],
      },
      "table": "CustomerAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "c",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2481,
        "start": 2468,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2479,
            "start": 2468,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2470,
                "start": 2468,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2479,
                "start": 2472,
                "tag": "UnquotedIdentifier",
                "value": "Customer",
              },
            ],
          },
          Object {
            "end": 2481,
            "start": 2481,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2481,
                "start": 2481,
                "tag": "UnquotedIdentifier",
                "value": "c",
              },
            ],
          },
        ],
      },
      "table": "Customer",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "fa",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2545,
        "start": 2529,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2542,
            "start": 2529,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2531,
                "start": 2529,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2542,
                "start": 2533,
                "tag": "UnquotedIdentifier",
                "value": "FiTAccount",
              },
            ],
          },
          Object {
            "end": 2545,
            "start": 2544,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2545,
                "start": 2544,
                "tag": "UnquotedIdentifier",
                "value": "fa",
              },
            ],
          },
        ],
      },
      "table": "FiTAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ga",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2621,
        "start": 2598,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2618,
            "start": 2598,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2600,
                "start": 2598,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2618,
                "start": 2602,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccount",
              },
            ],
          },
          Object {
            "end": 2621,
            "start": 2620,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2621,
                "start": 2620,
                "tag": "UnquotedIdentifier",
                "value": "ga",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "gai",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2710,
        "start": 2674,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2706,
            "start": 2674,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2676,
                "start": 2674,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2706,
                "start": 2678,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccountInstallation",
              },
            ],
          },
          Object {
            "end": 2710,
            "start": 2708,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2710,
                "start": 2708,
                "tag": "UnquotedIdentifier",
                "value": "gai",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccountInstallation",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2801,
        "start": 2778,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2798,
            "start": 2778,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2780,
                "start": 2778,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2798,
                "start": 2782,
                "tag": "UnquotedIdentifier",
                "value": "InstallationMeter",
              },
            ],
          },
          Object {
            "end": 2801,
            "start": 2800,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2801,
                "start": 2800,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "InstallationMeter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ba",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2876,
        "start": 2859,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2873,
            "start": 2859,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2861,
                "start": 2859,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2873,
                "start": 2863,
                "tag": "UnquotedIdentifier",
                "value": "BankAccount",
              },
            ],
          },
          Object {
            "end": 2876,
            "start": 2875,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2876,
                "start": 2875,
                "tag": "UnquotedIdentifier",
                "value": "ba",
              },
            ],
          },
        ],
      },
      "table": "BankAccount",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql active-meters-wth-reads.query.sql: active-meters-wth-reads.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 679,
      "name": "intervalStart",
      "pick": Array [],
      "required": true,
      "spread": false,
      "start": 665,
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 655,
          "start": 635,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 647,
              "start": 635,
              "tag": "UnquotedIdentifier",
              "value": "current_reads",
            },
            Object {
              "end": 655,
              "start": 649,
              "tag": "UnquotedIdentifier",
              "value": "date_on",
            },
          ],
        },
        "table": "current_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 697,
      "name": "intervalEnd",
      "pick": Array [],
      "required": true,
      "spread": false,
      "start": 685,
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 655,
          "start": 635,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 647,
              "start": 635,
              "tag": "UnquotedIdentifier",
              "value": "current_reads",
            },
            Object {
              "end": 655,
              "start": 649,
              "tag": "UnquotedIdentifier",
              "value": "date_on",
            },
          ],
        },
        "table": "current_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1289,
      "name": "intervalStart",
      "pick": Array [],
      "required": true,
      "spread": false,
      "start": 1275,
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1271,
          "start": 1250,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1263,
              "start": 1250,
              "tag": "UnquotedIdentifier",
              "value": "previous_reads",
            },
            Object {
              "end": 1271,
              "start": 1265,
              "tag": "UnquotedIdentifier",
              "value": "date_on",
            },
          ],
        },
        "table": "previous_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1619,
      "name": "accountId",
      "pick": Array [],
      "required": true,
      "spread": false,
      "start": 1609,
      "type": Object {
        "column": "account_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1605,
          "start": 1586,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1594,
              "start": 1586,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 1605,
              "start": 1596,
              "tag": "UnquotedIdentifier",
              "value": "account_id",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 1635,
      "name": "meterId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1628,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
    Object {
      "end": 1672,
      "name": "meterId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 1665,
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 1661,
          "start": 1653,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 1658,
              "start": 1653,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 1661,
              "start": 1660,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 51,
          "start": 43,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 48,
              "start": 43,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 51,
              "start": 50,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "msn",
      "type": Object {
        "column": "serial_number",
        "schema": undefined,
        "sourceTag": Object {
          "end": 75,
          "start": 56,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 61,
              "start": 56,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 75,
              "start": 63,
              "tag": "UnquotedIdentifier",
              "value": "serial_number",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "mpan",
      "type": Object {
        "column": "mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 99,
          "start": 89,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 94,
              "start": 89,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 99,
              "start": 96,
              "tag": "UnquotedIdentifier",
              "value": "mpan",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "make",
      "type": Object {
        "column": "make",
        "schema": undefined,
        "sourceTag": Object {
          "end": 114,
          "start": 104,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 109,
              "start": 104,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 114,
              "start": 111,
              "tag": "UnquotedIdentifier",
              "value": "make",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "model",
      "type": Object {
        "column": "model",
        "schema": undefined,
        "sourceTag": Object {
          "end": 130,
          "start": 119,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 124,
              "start": 119,
              "tag": "UnquotedIdentifier",
              "value": "meters",
            },
            Object {
              "end": 130,
              "start": 126,
              "tag": "UnquotedIdentifier",
              "value": "model",
            },
          ],
        },
        "table": "meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "type",
      "type": Object {
        "column": "meter_type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 164,
          "start": 135,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 153,
              "start": 135,
              "tag": "UnquotedIdentifier",
              "value": "installation_meters",
            },
            Object {
              "end": 164,
              "start": 155,
              "tag": "UnquotedIdentifier",
              "value": "meter_type",
            },
          ],
        },
        "table": "installation_meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "currentPeriodRead",
      "type": Object {
        "nullable": true,
        "type": "Optional",
        "value": Object {
          "items": Array [
            Object {
              "name": "id",
              "type": Object {
                "column": "id",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 246,
                  "start": 231,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 243,
                      "start": 231,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 246,
                      "start": 245,
                      "tag": "UnquotedIdentifier",
                      "value": "id",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "value",
              "type": Object {
                "column": "value",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 284,
                  "start": 266,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 278,
                      "start": 266,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 284,
                      "start": 280,
                      "tag": "UnquotedIdentifier",
                      "value": "value",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "dateOn",
              "type": Object {
                "column": "date_on",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 325,
                  "start": 305,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 317,
                      "start": 305,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 325,
                      "start": 319,
                      "tag": "UnquotedIdentifier",
                      "value": "date_on",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "submittedAt",
              "type": Object {
                "column": "submitted_at",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 376,
                  "start": 351,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 363,
                      "start": 351,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 376,
                      "start": 365,
                      "tag": "UnquotedIdentifier",
                      "value": "submitted_at",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "reason",
              "type": Object {
                "column": "reason",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 416,
                  "start": 397,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 409,
                      "start": 397,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 416,
                      "start": 411,
                      "tag": "UnquotedIdentifier",
                      "value": "reason",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "type",
              "type": Object {
                "column": "type",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 452,
                  "start": 435,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 447,
                      "start": 435,
                      "tag": "UnquotedIdentifier",
                      "value": "current_reads",
                    },
                    Object {
                      "end": 452,
                      "start": 449,
                      "tag": "UnquotedIdentifier",
                      "value": "type",
                    },
                  ],
                },
                "table": "current_reads",
                "type": "LoadColumn",
              },
            },
          ],
          "type": "ObjectLiteral",
        },
      },
    },
    Object {
      "name": "previousPeriodRead",
      "type": Object {
        "nullable": true,
        "type": "Optional",
        "value": Object {
          "items": Array [
            Object {
              "name": "id",
              "type": Object {
                "column": "id",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 853,
                  "start": 837,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 850,
                      "start": 837,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 853,
                      "start": 852,
                      "tag": "UnquotedIdentifier",
                      "value": "id",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "value",
              "type": Object {
                "column": "value",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 892,
                  "start": 873,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 886,
                      "start": 873,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 892,
                      "start": 888,
                      "tag": "UnquotedIdentifier",
                      "value": "value",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "dateOn",
              "type": Object {
                "column": "date_on",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 934,
                  "start": 913,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 926,
                      "start": 913,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 934,
                      "start": 928,
                      "tag": "UnquotedIdentifier",
                      "value": "date_on",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "submittedAt",
              "type": Object {
                "column": "submitted_at",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 986,
                  "start": 960,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 973,
                      "start": 960,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 986,
                      "start": 975,
                      "tag": "UnquotedIdentifier",
                      "value": "submitted_at",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "reason",
              "type": Object {
                "column": "reason",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 1027,
                  "start": 1007,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 1020,
                      "start": 1007,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 1027,
                      "start": 1022,
                      "tag": "UnquotedIdentifier",
                      "value": "reason",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
            Object {
              "name": "type",
              "type": Object {
                "column": "type",
                "schema": undefined,
                "sourceTag": Object {
                  "end": 1064,
                  "start": 1046,
                  "tag": "Column",
                  "values": Array [
                    Object {
                      "end": 1059,
                      "start": 1046,
                      "tag": "UnquotedIdentifier",
                      "value": "previous_reads",
                    },
                    Object {
                      "end": 1064,
                      "start": 1061,
                      "tag": "UnquotedIdentifier",
                      "value": "type",
                    },
                  ],
                },
                "table": "previous_reads",
                "type": "LoadColumn",
              },
            },
          ],
          "type": "ObjectLiteral",
        },
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "current_reads",
      "schema": undefined,
      "sourceTag": Object {
        "end": 511,
        "start": 483,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 494,
            "start": 483,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 494,
                "start": 483,
                "tag": "UnquotedIdentifier",
                "value": "active_reads",
              },
            ],
          },
          Object {
            "end": 511,
            "start": 496,
            "tag": "As",
            "values": Array [
              Object {
                "end": 511,
                "start": 499,
                "tag": "UnquotedIdentifier",
                "value": "current_reads",
              },
            ],
          },
        ],
      },
      "table": "active_reads",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "previous_reads",
      "schema": undefined,
      "sourceTag": Object {
        "end": 1124,
        "start": 1095,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1106,
            "start": 1095,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1106,
                "start": 1095,
                "tag": "UnquotedIdentifier",
                "value": "active_reads",
              },
            ],
          },
          Object {
            "end": 1124,
            "start": 1108,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1124,
                "start": 1111,
                "tag": "UnquotedIdentifier",
                "value": "previous_reads",
              },
            ],
          },
        ],
      },
      "table": "active_reads",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "meters",
      "schema": undefined,
      "sourceTag": Object {
        "end": 1386,
        "start": 1381,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1386,
            "start": 1381,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1386,
                "start": 1381,
                "tag": "UnquotedIdentifier",
                "value": "meters",
              },
            ],
          },
        ],
      },
      "table": "meters",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installation_meters",
      "schema": undefined,
      "sourceTag": Object {
        "end": 1411,
        "start": 1393,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1411,
            "start": 1393,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1411,
                "start": 1393,
                "tag": "UnquotedIdentifier",
                "value": "installation_meters",
              },
            ],
          },
        ],
      },
      "table": "installation_meters",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 1470,
        "start": 1462,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1470,
            "start": 1462,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1470,
                "start": 1462,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql bacs.query.sql: bacs.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 618,
      "name": "quarter",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 611,
      "type": Object {
        "column": "levelisation_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 607,
          "start": 584,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 584,
              "start": 584,
              "tag": "UnquotedIdentifier",
              "value": "p",
            },
            Object {
              "end": 607,
              "start": 586,
              "tag": "UnquotedIdentifier",
              "value": "levelisation_reference",
            },
          ],
        },
        "table": "p",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 633,
      "name": "perPage",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 626,
      "type": Object {
        "type": "String",
      },
    },
    Object {
      "end": 648,
      "name": "offset",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 642,
      "type": Object {
        "type": "String",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "fitId",
      "type": Object {
        "column": "fit_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 23,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 9,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "p",
            },
            Object {
              "end": 23,
              "start": 11,
              "tag": "UnquotedIdentifier",
              "value": "fit_reference",
            },
          ],
        },
        "table": "p",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "name",
      "type": Object {
        "column": "beneficiary_name",
        "schema": undefined,
        "sourceTag": Object {
          "end": 53,
          "start": 36,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 36,
              "start": 36,
              "tag": "UnquotedIdentifier",
              "value": "a",
            },
            Object {
              "end": 53,
              "start": 38,
              "tag": "UnquotedIdentifier",
              "value": "beneficiary_name",
            },
          ],
        },
        "table": "a",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "amount",
      "type": Object {
        "column": "amount",
        "schema": undefined,
        "sourceTag": Object {
          "end": 72,
          "start": 65,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 65,
              "start": 65,
              "tag": "UnquotedIdentifier",
              "value": "p",
            },
            Object {
              "end": 72,
              "start": 67,
              "tag": "UnquotedIdentifier",
              "value": "amount",
            },
          ],
        },
        "table": "p",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "quarter",
      "type": Object {
        "column": "levelisation_reference",
        "schema": undefined,
        "sourceTag": Object {
          "end": 109,
          "start": 86,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 86,
              "start": 86,
              "tag": "UnquotedIdentifier",
              "value": "p",
            },
            Object {
              "end": 109,
              "start": 88,
              "tag": "UnquotedIdentifier",
              "value": "levelisation_reference",
            },
          ],
        },
        "table": "p",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "bankDetails",
      "type": Object {
        "args": Array [
          Object {
            "column": "beneficiary_sort_code",
            "schema": undefined,
            "sourceTag": Object {
              "end": 153,
              "start": 131,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 131,
                  "start": 131,
                  "tag": "UnquotedIdentifier",
                  "value": "a",
                },
                Object {
                  "end": 153,
                  "start": 133,
                  "tag": "UnquotedIdentifier",
                  "value": "beneficiary_sort_code",
                },
              ],
            },
            "table": "a",
            "type": "LoadColumn",
          },
          Object {
            "column": "beneficiary_account_number",
            "schema": undefined,
            "sourceTag": Object {
              "end": 183,
              "start": 156,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 156,
                  "start": 156,
                  "tag": "UnquotedIdentifier",
                  "value": "a",
                },
                Object {
                  "end": 183,
                  "start": 158,
                  "tag": "UnquotedIdentifier",
                  "value": "beneficiary_account_number",
                },
              ],
            },
            "table": "a",
            "type": "LoadColumn",
          },
        ],
        "name": "concat",
        "schema": undefined,
        "sourceTag": Object {
          "end": 184,
          "start": 124,
          "tag": "Function",
          "values": Array [
            Object {
              "end": 129,
              "start": 124,
              "tag": "QualifiedIdentifier",
              "values": Array [
                Object {
                  "end": 129,
                  "start": 124,
                  "tag": "UnquotedIdentifier",
                  "value": "CONCAT",
                },
              ],
            },
            Object {
              "end": 153,
              "start": 131,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 131,
                  "start": 131,
                  "tag": "UnquotedIdentifier",
                  "value": "a",
                },
                Object {
                  "end": 153,
                  "start": 133,
                  "tag": "UnquotedIdentifier",
                  "value": "beneficiary_sort_code",
                },
              ],
            },
            Object {
              "end": 183,
              "start": 156,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 156,
                  "start": 156,
                  "tag": "UnquotedIdentifier",
                  "value": "a",
                },
                Object {
                  "end": 183,
                  "start": 158,
                  "tag": "UnquotedIdentifier",
                  "value": "beneficiary_account_number",
                },
              ],
            },
          ],
        },
        "type": "LoadFunction",
      },
    },
    Object {
      "name": "addressLine1",
      "type": Object {
        "column": "address_line_1",
        "schema": undefined,
        "sourceTag": Object {
          "end": 222,
          "start": 206,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 207,
              "start": 206,
              "tag": "UnquotedIdentifier",
              "value": "a2",
            },
            Object {
              "end": 222,
              "start": 209,
              "tag": "UnquotedIdentifier",
              "value": "address_line_1",
            },
          ],
        },
        "table": "a2",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "addressLine2",
      "type": Object {
        "column": "address_line_2",
        "schema": undefined,
        "sourceTag": Object {
          "end": 258,
          "start": 242,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 243,
              "start": 242,
              "tag": "UnquotedIdentifier",
              "value": "a2",
            },
            Object {
              "end": 258,
              "start": 245,
              "tag": "UnquotedIdentifier",
              "value": "address_line_2",
            },
          ],
        },
        "table": "a2",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "addressLine3",
      "type": Object {
        "column": "address_line_3",
        "schema": undefined,
        "sourceTag": Object {
          "end": 294,
          "start": 278,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 279,
              "start": 278,
              "tag": "UnquotedIdentifier",
              "value": "a2",
            },
            Object {
              "end": 294,
              "start": 281,
              "tag": "UnquotedIdentifier",
              "value": "address_line_3",
            },
          ],
        },
        "table": "a2",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "postcode",
      "type": Object {
        "column": "postcode",
        "schema": undefined,
        "sourceTag": Object {
          "end": 324,
          "start": 314,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 315,
              "start": 314,
              "tag": "UnquotedIdentifier",
              "value": "a2",
            },
            Object {
              "end": 324,
              "start": 317,
              "tag": "UnquotedIdentifier",
              "value": "postcode",
            },
          ],
        },
        "table": "a2",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "p",
      "schema": undefined,
      "sourceTag": Object {
        "end": 351,
        "start": 342,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 349,
            "start": 342,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 349,
                "start": 342,
                "tag": "UnquotedIdentifier",
                "value": "payments",
              },
            ],
          },
          Object {
            "end": 351,
            "start": 351,
            "tag": "As",
            "values": Array [
              Object {
                "end": 351,
                "start": 351,
                "tag": "UnquotedIdentifier",
                "value": "p",
              },
            ],
          },
        ],
      },
      "table": "payments",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "a",
      "schema": undefined,
      "sourceTag": Object {
        "end": 372,
        "start": 363,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 370,
            "start": 363,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 370,
                "start": 363,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
          Object {
            "end": 372,
            "start": 372,
            "tag": "As",
            "values": Array [
              Object {
                "end": 372,
                "start": 372,
                "tag": "UnquotedIdentifier",
                "value": "a",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "c2",
      "schema": undefined,
      "sourceTag": Object {
        "end": 418,
        "start": 407,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 415,
            "start": 407,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 415,
                "start": 407,
                "tag": "UnquotedIdentifier",
                "value": "customers",
              },
            ],
          },
          Object {
            "end": 418,
            "start": 417,
            "tag": "As",
            "values": Array [
              Object {
                "end": 418,
                "start": 417,
                "tag": "UnquotedIdentifier",
                "value": "c2",
              },
            ],
          },
        ],
      },
      "table": "customers",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "c3",
      "schema": undefined,
      "sourceTag": Object {
        "end": 465,
        "start": 455,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 462,
            "start": 455,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 462,
                "start": 455,
                "tag": "UnquotedIdentifier",
                "value": "contacts",
              },
            ],
          },
          Object {
            "end": 465,
            "start": 464,
            "tag": "As",
            "values": Array [
              Object {
                "end": 465,
                "start": 464,
                "tag": "UnquotedIdentifier",
                "value": "c3",
              },
            ],
          },
        ],
      },
      "table": "contacts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "a2",
      "schema": undefined,
      "sourceTag": Object {
        "end": 521,
        "start": 510,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 518,
            "start": 510,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 518,
                "start": 510,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
          Object {
            "end": 521,
            "start": 520,
            "tag": "As",
            "values": Array [
              Object {
                "end": 521,
                "start": 520,
                "tag": "UnquotedIdentifier",
                "value": "a2",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql contracts.sql: contracts.sql 1`] = `
Object {
  "params": Array [],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 20,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 20,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 20,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 397,
        "start": 390,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 397,
            "start": 390,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 397,
                "start": 390,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contacts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 492,
        "start": 485,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 492,
            "start": 485,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 492,
                "start": 485,
                "tag": "UnquotedIdentifier",
                "value": "contacts",
              },
            ],
          },
        ],
      },
      "table": "contacts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 590,
        "start": 578,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 590,
            "start": 578,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 590,
                "start": 578,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": "fit",
      "sourceTag": Object {
        "end": 831,
        "start": 808,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 828,
            "start": 808,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 810,
                "start": 808,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 828,
                "start": 812,
                "tag": "UnquotedIdentifier",
                "value": "InstallationMeter",
              },
            ],
          },
          Object {
            "end": 831,
            "start": 830,
            "tag": "As",
            "values": Array [
              Object {
                "end": 831,
                "start": 830,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "InstallationMeter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": "fit",
      "sourceTag": Object {
        "end": 852,
        "start": 842,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 850,
            "start": 842,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 844,
                "start": 842,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 850,
                "start": 846,
                "tag": "UnquotedIdentifier",
                "value": "Meter",
              },
            ],
          },
          Object {
            "end": 852,
            "start": 852,
            "tag": "As",
            "values": Array [
              Object {
                "end": 852,
                "start": 852,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "Meter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 908,
        "start": 893,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 905,
            "start": 893,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 895,
                "start": 893,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 905,
                "start": 897,
                "tag": "UnquotedIdentifier",
                "value": "MeterType",
              },
            ],
          },
          Object {
            "end": 908,
            "start": 907,
            "tag": "As",
            "values": Array [
              Object {
                "end": 908,
                "start": 907,
                "tag": "UnquotedIdentifier",
                "value": "mt",
              },
            ],
          },
        ],
      },
      "table": "MeterType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "tariffs",
      "schema": undefined,
      "sourceTag": Object {
        "end": 963,
        "start": 957,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 963,
            "start": 957,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 963,
                "start": 957,
                "tag": "UnquotedIdentifier",
                "value": "tariffs",
              },
            ],
          },
        ],
      },
      "table": "tariffs",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "tariffs",
      "schema": undefined,
      "sourceTag": Object {
        "end": 1316,
        "start": 1310,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1316,
            "start": 1310,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1316,
                "start": 1310,
                "tag": "UnquotedIdentifier",
                "value": "tariffs",
              },
            ],
          },
        ],
      },
      "table": "tariffs",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1638,
        "start": 1615,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1635,
            "start": 1615,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1617,
                "start": 1615,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1635,
                "start": 1619,
                "tag": "UnquotedIdentifier",
                "value": "InstallationMeter",
              },
            ],
          },
          Object {
            "end": 1638,
            "start": 1637,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1638,
                "start": 1637,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "InstallationMeter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1659,
        "start": 1649,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1657,
            "start": 1649,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1651,
                "start": 1649,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1657,
                "start": 1653,
                "tag": "UnquotedIdentifier",
                "value": "Meter",
              },
            ],
          },
          Object {
            "end": 1659,
            "start": 1659,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1659,
                "start": 1659,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "Meter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1715,
        "start": 1700,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1712,
            "start": 1700,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1702,
                "start": 1700,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1712,
                "start": 1704,
                "tag": "UnquotedIdentifier",
                "value": "MeterType",
              },
            ],
          },
          Object {
            "end": 1715,
            "start": 1714,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1715,
                "start": 1714,
                "tag": "UnquotedIdentifier",
                "value": "mt",
              },
            ],
          },
        ],
      },
      "table": "MeterType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2165,
        "start": 2142,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2162,
            "start": 2142,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2144,
                "start": 2142,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2162,
                "start": 2146,
                "tag": "UnquotedIdentifier",
                "value": "InstallationMeter",
              },
            ],
          },
          Object {
            "end": 2165,
            "start": 2164,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2165,
                "start": 2164,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "InstallationMeter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2186,
        "start": 2176,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2184,
            "start": 2176,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2178,
                "start": 2176,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2184,
                "start": 2180,
                "tag": "UnquotedIdentifier",
                "value": "Meter",
              },
            ],
          },
          Object {
            "end": 2186,
            "start": 2186,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2186,
                "start": 2186,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "Meter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2242,
        "start": 2227,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2239,
            "start": 2227,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2229,
                "start": 2227,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2239,
                "start": 2231,
                "tag": "UnquotedIdentifier",
                "value": "MeterType",
              },
            ],
          },
          Object {
            "end": 2242,
            "start": 2241,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2242,
                "start": 2241,
                "tag": "UnquotedIdentifier",
                "value": "mt",
              },
            ],
          },
        ],
      },
      "table": "MeterType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "gai",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2903,
        "start": 2867,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2899,
            "start": 2867,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2869,
                "start": 2867,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2899,
                "start": 2871,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccountInstallation",
              },
            ],
          },
          Object {
            "end": 2903,
            "start": 2901,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2903,
                "start": 2901,
                "tag": "UnquotedIdentifier",
                "value": "gai",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccountInstallation",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ga",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2933,
        "start": 2910,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2930,
            "start": 2910,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2912,
                "start": 2910,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2930,
                "start": 2914,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccount",
              },
            ],
          },
          Object {
            "end": 2933,
            "start": 2932,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2933,
                "start": 2932,
                "tag": "UnquotedIdentifier",
                "value": "ga",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "i",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3013,
        "start": 2996,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3011,
            "start": 2996,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2998,
                "start": 2996,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3011,
                "start": 3000,
                "tag": "UnquotedIdentifier",
                "value": "Installation",
              },
            ],
          },
          Object {
            "end": 3013,
            "start": 3013,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3013,
                "start": 3013,
                "tag": "UnquotedIdentifier",
                "value": "i",
              },
            ],
          },
        ],
      },
      "table": "Installation",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ca",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3220,
        "start": 3199,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3217,
            "start": 3199,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3201,
                "start": 3199,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3217,
                "start": 3203,
                "tag": "UnquotedIdentifier",
                "value": "CustomerAccount",
              },
            ],
          },
          Object {
            "end": 3220,
            "start": 3219,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3220,
                "start": 3219,
                "tag": "UnquotedIdentifier",
                "value": "ca",
              },
            ],
          },
        ],
      },
      "table": "CustomerAccount",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql delete-accounts.query.sql: delete-accounts.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 255,
      "name": "type",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 251,
      "type": Object {
        "column": "scheme_type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 247,
          "start": 227,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 235,
              "start": 227,
              "tag": "UnquotedIdentifier",
              "value": "contracts",
            },
            Object {
              "end": 247,
              "start": 237,
              "tag": "UnquotedIdentifier",
              "value": "scheme_type",
            },
          ],
        },
        "table": "contracts",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 289,
      "name": "state",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 284,
      "type": Object {
        "column": "state",
        "schema": undefined,
        "sourceTag": Object {
          "end": 280,
          "start": 267,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 274,
              "start": 267,
              "tag": "UnquotedIdentifier",
              "value": "accounts",
            },
            Object {
              "end": 280,
              "start": 276,
              "tag": "UnquotedIdentifier",
              "value": "state",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 304,
          "start": 303,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 304,
              "start": 303,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "sourceSystemId",
      "type": Object {
        "column": "source_system_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 324,
          "start": 309,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 324,
              "start": 309,
              "tag": "UnquotedIdentifier",
              "value": "source_system_id",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "customerId",
      "type": Object {
        "column": "customer_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 359,
          "start": 349,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 359,
              "start": 349,
              "tag": "UnquotedIdentifier",
              "value": "customer_id",
            },
          ],
        },
        "table": "accounts",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 19,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 19,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 19,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": false,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 72,
        "start": 64,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 72,
            "start": 64,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 72,
                "start": 64,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": false,
      "name": "tariffs",
      "schema": undefined,
      "sourceTag": Object {
        "end": 89,
        "start": 83,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 89,
            "start": 83,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 89,
                "start": 83,
                "tag": "UnquotedIdentifier",
                "value": "tariffs",
              },
            ],
          },
        ],
      },
      "table": "tariffs",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql generation-read-data.query.sql: generation-read-data.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 219,
      "name": "installationId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 205,
      "type": Object {
        "column": "installation_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 201,
          "start": 167,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 185,
              "start": 167,
              "tag": "UnquotedIdentifier",
              "value": "installation_meters",
            },
            Object {
              "end": 201,
              "start": 187,
              "tag": "UnquotedIdentifier",
              "value": "installation_id",
            },
          ],
        },
        "table": "installation_meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 441,
      "name": "exportDateOn",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 429,
      "type": Object {
        "name": "date",
        "type": "Named",
        "value": Object {
          "type": "Date",
        },
      },
    },
  ],
  "results": Array [
    Object {
      "name": "dateOn",
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 27,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 19,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "meter_reads",
            },
            Object {
              "end": 27,
              "start": 21,
              "tag": "UnquotedIdentifier",
              "value": "date_on",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "value",
      "type": Object {
        "column": "value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 60,
          "start": 44,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 54,
              "start": 44,
              "tag": "UnquotedIdentifier",
              "value": "meter_reads",
            },
            Object {
              "end": 60,
              "start": 56,
              "tag": "UnquotedIdentifier",
              "value": "value",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "meter_reads",
      "schema": undefined,
      "sourceTag": Object {
        "end": 77,
        "start": 67,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 77,
            "start": 67,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 77,
                "start": 67,
                "tag": "UnquotedIdentifier",
                "value": "meter_reads",
              },
            ],
          },
        ],
      },
      "table": "meter_reads",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "installation_meters",
      "schema": undefined,
      "sourceTag": Object {
        "end": 102,
        "start": 84,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 102,
            "start": 84,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 102,
                "start": 84,
                "tag": "UnquotedIdentifier",
                "value": "installation_meters",
              },
            ],
          },
        ],
      },
      "table": "installation_meters",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql insert.process.query.sql: insert.process.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 131,
      "name": "items",
      "pick": Array [
        Object {
          "name": "processId",
          "type": Object {
            "column": "process_id",
            "schema": undefined,
            "sourceTag": Object {
              "end": 225,
              "start": 0,
              "tag": "Insert",
              "values": Array [
                Object {
                  "end": 24,
                  "start": 12,
                  "tag": "Table",
                  "values": Array [
                    Object {
                      "end": 24,
                      "start": 12,
                      "tag": "QualifiedIdentifier",
                      "values": Array [
                        Object {
                          "end": 24,
                          "start": 12,
                          "tag": "UnquotedIdentifier",
                          "value": "process_items",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 72,
                  "start": 26,
                  "tag": "Columns",
                  "values": Array [
                    Object {
                      "end": 36,
                      "start": 27,
                      "tag": "UnquotedIdentifier",
                      "value": "process_id",
                    },
                    Object {
                      "end": 53,
                      "start": 39,
                      "tag": "UnquotedIdentifier",
                      "value": "idempotency_key",
                    },
                    Object {
                      "end": 59,
                      "start": 56,
                      "tag": "UnquotedIdentifier",
                      "value": "data",
                    },
                    Object {
                      "end": 71,
                      "start": 62,
                      "tag": "UnquotedIdentifier",
                      "value": "account_id",
                    },
                  ],
                },
                Object {
                  "end": 131,
                  "start": 74,
                  "tag": "ValuesList",
                  "values": Array [
                    Object {
                      "end": 131,
                      "pick": Array [
                        Object {
                          "end": 97,
                          "start": 89,
                          "tag": "UnquotedIdentifier",
                          "value": "processId",
                        },
                        Object {
                          "end": 113,
                          "start": 100,
                          "tag": "UnquotedIdentifier",
                          "value": "idempotencyKey",
                        },
                        Object {
                          "end": 119,
                          "start": 116,
                          "tag": "UnquotedIdentifier",
                          "value": "data",
                        },
                        Object {
                          "end": 130,
                          "start": 122,
                          "tag": "UnquotedIdentifier",
                          "value": "accountId",
                        },
                      ],
                      "required": false,
                      "start": 81,
                      "tag": "Parameter",
                      "type": "spread",
                      "value": "items",
                    },
                  ],
                },
                Object {
                  "end": 206,
                  "start": 133,
                  "tag": "Conflict",
                  "values": Array [
                    Object {
                      "end": 195,
                      "start": 145,
                      "tag": "ConflictTarget",
                      "values": Array [
                        Object {
                          "end": 160,
                          "start": 146,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 160,
                              "start": 146,
                              "tag": "UnquotedIdentifier",
                              "value": "idempotency_key",
                            },
                          ],
                        },
                        Object {
                          "end": 195,
                          "start": 163,
                          "tag": "Where",
                          "values": Array [
                            Object {
                              "end": 195,
                              "start": 169,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 183,
                                  "start": 169,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 183,
                                      "start": 169,
                                      "tag": "UnquotedIdentifier",
                                      "value": "idempotency_key",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 186,
                                  "start": 185,
                                  "tag": "BinaryOperator",
                                  "value": "IS",
                                },
                                Object {
                                  "nextPos": 196,
                                  "pos": 188,
                                  "tag": "UnaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 190,
                                      "start": 188,
                                      "tag": "UnaryOperator",
                                      "value": "NOT",
                                    },
                                    Object {
                                      "end": 195,
                                      "start": 192,
                                      "tag": "Null",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 206,
                      "start": 197,
                      "tag": "DoNothing",
                    },
                  ],
                },
                Object {
                  "end": 225,
                  "start": 208,
                  "tag": "Returning",
                  "values": Array [
                    Object {
                      "end": 219,
                      "start": 218,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 219,
                          "start": 218,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 219,
                              "start": 218,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 225,
                      "start": 222,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 225,
                          "start": 222,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 225,
                              "start": 222,
                              "tag": "UnquotedIdentifier",
                              "value": "data",
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            "table": "process_items",
            "type": "LoadColumn",
          },
        },
        Object {
          "name": "idempotencyKey",
          "type": Object {
            "column": "idempotency_key",
            "schema": undefined,
            "sourceTag": Object {
              "end": 225,
              "start": 0,
              "tag": "Insert",
              "values": Array [
                Object {
                  "end": 24,
                  "start": 12,
                  "tag": "Table",
                  "values": Array [
                    Object {
                      "end": 24,
                      "start": 12,
                      "tag": "QualifiedIdentifier",
                      "values": Array [
                        Object {
                          "end": 24,
                          "start": 12,
                          "tag": "UnquotedIdentifier",
                          "value": "process_items",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 72,
                  "start": 26,
                  "tag": "Columns",
                  "values": Array [
                    Object {
                      "end": 36,
                      "start": 27,
                      "tag": "UnquotedIdentifier",
                      "value": "process_id",
                    },
                    Object {
                      "end": 53,
                      "start": 39,
                      "tag": "UnquotedIdentifier",
                      "value": "idempotency_key",
                    },
                    Object {
                      "end": 59,
                      "start": 56,
                      "tag": "UnquotedIdentifier",
                      "value": "data",
                    },
                    Object {
                      "end": 71,
                      "start": 62,
                      "tag": "UnquotedIdentifier",
                      "value": "account_id",
                    },
                  ],
                },
                Object {
                  "end": 131,
                  "start": 74,
                  "tag": "ValuesList",
                  "values": Array [
                    Object {
                      "end": 131,
                      "pick": Array [
                        Object {
                          "end": 97,
                          "start": 89,
                          "tag": "UnquotedIdentifier",
                          "value": "processId",
                        },
                        Object {
                          "end": 113,
                          "start": 100,
                          "tag": "UnquotedIdentifier",
                          "value": "idempotencyKey",
                        },
                        Object {
                          "end": 119,
                          "start": 116,
                          "tag": "UnquotedIdentifier",
                          "value": "data",
                        },
                        Object {
                          "end": 130,
                          "start": 122,
                          "tag": "UnquotedIdentifier",
                          "value": "accountId",
                        },
                      ],
                      "required": false,
                      "start": 81,
                      "tag": "Parameter",
                      "type": "spread",
                      "value": "items",
                    },
                  ],
                },
                Object {
                  "end": 206,
                  "start": 133,
                  "tag": "Conflict",
                  "values": Array [
                    Object {
                      "end": 195,
                      "start": 145,
                      "tag": "ConflictTarget",
                      "values": Array [
                        Object {
                          "end": 160,
                          "start": 146,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 160,
                              "start": 146,
                              "tag": "UnquotedIdentifier",
                              "value": "idempotency_key",
                            },
                          ],
                        },
                        Object {
                          "end": 195,
                          "start": 163,
                          "tag": "Where",
                          "values": Array [
                            Object {
                              "end": 195,
                              "start": 169,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 183,
                                  "start": 169,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 183,
                                      "start": 169,
                                      "tag": "UnquotedIdentifier",
                                      "value": "idempotency_key",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 186,
                                  "start": 185,
                                  "tag": "BinaryOperator",
                                  "value": "IS",
                                },
                                Object {
                                  "nextPos": 196,
                                  "pos": 188,
                                  "tag": "UnaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 190,
                                      "start": 188,
                                      "tag": "UnaryOperator",
                                      "value": "NOT",
                                    },
                                    Object {
                                      "end": 195,
                                      "start": 192,
                                      "tag": "Null",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 206,
                      "start": 197,
                      "tag": "DoNothing",
                    },
                  ],
                },
                Object {
                  "end": 225,
                  "start": 208,
                  "tag": "Returning",
                  "values": Array [
                    Object {
                      "end": 219,
                      "start": 218,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 219,
                          "start": 218,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 219,
                              "start": 218,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 225,
                      "start": 222,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 225,
                          "start": 222,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 225,
                              "start": 222,
                              "tag": "UnquotedIdentifier",
                              "value": "data",
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            "table": "process_items",
            "type": "LoadColumn",
          },
        },
        Object {
          "name": "data",
          "type": Object {
            "column": "data",
            "schema": undefined,
            "sourceTag": Object {
              "end": 225,
              "start": 0,
              "tag": "Insert",
              "values": Array [
                Object {
                  "end": 24,
                  "start": 12,
                  "tag": "Table",
                  "values": Array [
                    Object {
                      "end": 24,
                      "start": 12,
                      "tag": "QualifiedIdentifier",
                      "values": Array [
                        Object {
                          "end": 24,
                          "start": 12,
                          "tag": "UnquotedIdentifier",
                          "value": "process_items",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 72,
                  "start": 26,
                  "tag": "Columns",
                  "values": Array [
                    Object {
                      "end": 36,
                      "start": 27,
                      "tag": "UnquotedIdentifier",
                      "value": "process_id",
                    },
                    Object {
                      "end": 53,
                      "start": 39,
                      "tag": "UnquotedIdentifier",
                      "value": "idempotency_key",
                    },
                    Object {
                      "end": 59,
                      "start": 56,
                      "tag": "UnquotedIdentifier",
                      "value": "data",
                    },
                    Object {
                      "end": 71,
                      "start": 62,
                      "tag": "UnquotedIdentifier",
                      "value": "account_id",
                    },
                  ],
                },
                Object {
                  "end": 131,
                  "start": 74,
                  "tag": "ValuesList",
                  "values": Array [
                    Object {
                      "end": 131,
                      "pick": Array [
                        Object {
                          "end": 97,
                          "start": 89,
                          "tag": "UnquotedIdentifier",
                          "value": "processId",
                        },
                        Object {
                          "end": 113,
                          "start": 100,
                          "tag": "UnquotedIdentifier",
                          "value": "idempotencyKey",
                        },
                        Object {
                          "end": 119,
                          "start": 116,
                          "tag": "UnquotedIdentifier",
                          "value": "data",
                        },
                        Object {
                          "end": 130,
                          "start": 122,
                          "tag": "UnquotedIdentifier",
                          "value": "accountId",
                        },
                      ],
                      "required": false,
                      "start": 81,
                      "tag": "Parameter",
                      "type": "spread",
                      "value": "items",
                    },
                  ],
                },
                Object {
                  "end": 206,
                  "start": 133,
                  "tag": "Conflict",
                  "values": Array [
                    Object {
                      "end": 195,
                      "start": 145,
                      "tag": "ConflictTarget",
                      "values": Array [
                        Object {
                          "end": 160,
                          "start": 146,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 160,
                              "start": 146,
                              "tag": "UnquotedIdentifier",
                              "value": "idempotency_key",
                            },
                          ],
                        },
                        Object {
                          "end": 195,
                          "start": 163,
                          "tag": "Where",
                          "values": Array [
                            Object {
                              "end": 195,
                              "start": 169,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 183,
                                  "start": 169,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 183,
                                      "start": 169,
                                      "tag": "UnquotedIdentifier",
                                      "value": "idempotency_key",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 186,
                                  "start": 185,
                                  "tag": "BinaryOperator",
                                  "value": "IS",
                                },
                                Object {
                                  "nextPos": 196,
                                  "pos": 188,
                                  "tag": "UnaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 190,
                                      "start": 188,
                                      "tag": "UnaryOperator",
                                      "value": "NOT",
                                    },
                                    Object {
                                      "end": 195,
                                      "start": 192,
                                      "tag": "Null",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 206,
                      "start": 197,
                      "tag": "DoNothing",
                    },
                  ],
                },
                Object {
                  "end": 225,
                  "start": 208,
                  "tag": "Returning",
                  "values": Array [
                    Object {
                      "end": 219,
                      "start": 218,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 219,
                          "start": 218,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 219,
                              "start": 218,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 225,
                      "start": 222,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 225,
                          "start": 222,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 225,
                              "start": 222,
                              "tag": "UnquotedIdentifier",
                              "value": "data",
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            "table": "process_items",
            "type": "LoadColumn",
          },
        },
        Object {
          "name": "accountId",
          "type": Object {
            "column": "account_id",
            "schema": undefined,
            "sourceTag": Object {
              "end": 225,
              "start": 0,
              "tag": "Insert",
              "values": Array [
                Object {
                  "end": 24,
                  "start": 12,
                  "tag": "Table",
                  "values": Array [
                    Object {
                      "end": 24,
                      "start": 12,
                      "tag": "QualifiedIdentifier",
                      "values": Array [
                        Object {
                          "end": 24,
                          "start": 12,
                          "tag": "UnquotedIdentifier",
                          "value": "process_items",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 72,
                  "start": 26,
                  "tag": "Columns",
                  "values": Array [
                    Object {
                      "end": 36,
                      "start": 27,
                      "tag": "UnquotedIdentifier",
                      "value": "process_id",
                    },
                    Object {
                      "end": 53,
                      "start": 39,
                      "tag": "UnquotedIdentifier",
                      "value": "idempotency_key",
                    },
                    Object {
                      "end": 59,
                      "start": 56,
                      "tag": "UnquotedIdentifier",
                      "value": "data",
                    },
                    Object {
                      "end": 71,
                      "start": 62,
                      "tag": "UnquotedIdentifier",
                      "value": "account_id",
                    },
                  ],
                },
                Object {
                  "end": 131,
                  "start": 74,
                  "tag": "ValuesList",
                  "values": Array [
                    Object {
                      "end": 131,
                      "pick": Array [
                        Object {
                          "end": 97,
                          "start": 89,
                          "tag": "UnquotedIdentifier",
                          "value": "processId",
                        },
                        Object {
                          "end": 113,
                          "start": 100,
                          "tag": "UnquotedIdentifier",
                          "value": "idempotencyKey",
                        },
                        Object {
                          "end": 119,
                          "start": 116,
                          "tag": "UnquotedIdentifier",
                          "value": "data",
                        },
                        Object {
                          "end": 130,
                          "start": 122,
                          "tag": "UnquotedIdentifier",
                          "value": "accountId",
                        },
                      ],
                      "required": false,
                      "start": 81,
                      "tag": "Parameter",
                      "type": "spread",
                      "value": "items",
                    },
                  ],
                },
                Object {
                  "end": 206,
                  "start": 133,
                  "tag": "Conflict",
                  "values": Array [
                    Object {
                      "end": 195,
                      "start": 145,
                      "tag": "ConflictTarget",
                      "values": Array [
                        Object {
                          "end": 160,
                          "start": 146,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 160,
                              "start": 146,
                              "tag": "UnquotedIdentifier",
                              "value": "idempotency_key",
                            },
                          ],
                        },
                        Object {
                          "end": 195,
                          "start": 163,
                          "tag": "Where",
                          "values": Array [
                            Object {
                              "end": 195,
                              "start": 169,
                              "tag": "BinaryExpression",
                              "values": Array [
                                Object {
                                  "end": 183,
                                  "start": 169,
                                  "tag": "Column",
                                  "values": Array [
                                    Object {
                                      "end": 183,
                                      "start": 169,
                                      "tag": "UnquotedIdentifier",
                                      "value": "idempotency_key",
                                    },
                                  ],
                                },
                                Object {
                                  "end": 186,
                                  "start": 185,
                                  "tag": "BinaryOperator",
                                  "value": "IS",
                                },
                                Object {
                                  "nextPos": 196,
                                  "pos": 188,
                                  "tag": "UnaryExpression",
                                  "values": Array [
                                    Object {
                                      "end": 190,
                                      "start": 188,
                                      "tag": "UnaryOperator",
                                      "value": "NOT",
                                    },
                                    Object {
                                      "end": 195,
                                      "start": 192,
                                      "tag": "Null",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 206,
                      "start": 197,
                      "tag": "DoNothing",
                    },
                  ],
                },
                Object {
                  "end": 225,
                  "start": 208,
                  "tag": "Returning",
                  "values": Array [
                    Object {
                      "end": 219,
                      "start": 218,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 219,
                          "start": 218,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 219,
                              "start": 218,
                              "tag": "UnquotedIdentifier",
                              "value": "id",
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 225,
                      "start": 222,
                      "tag": "ReturningListItem",
                      "values": Array [
                        Object {
                          "end": 225,
                          "start": 222,
                          "tag": "Column",
                          "values": Array [
                            Object {
                              "end": 225,
                              "start": 222,
                              "tag": "UnquotedIdentifier",
                              "value": "data",
                            },
                          ],
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            "table": "process_items",
            "type": "LoadColumn",
          },
        },
      ],
      "required": true,
      "spread": true,
      "start": 81,
      "type": Object {
        "type": "Unknown",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 219,
          "start": 218,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 219,
              "start": 218,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "process_items",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "data",
      "type": Object {
        "column": "data",
        "schema": undefined,
        "sourceTag": Object {
          "end": 225,
          "start": 222,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 225,
              "start": 222,
              "tag": "UnquotedIdentifier",
              "value": "data",
            },
          ],
        },
        "table": "process_items",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "process_items",
      "schema": undefined,
      "sourceTag": Object {
        "end": 24,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 24,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 24,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "process_items",
              },
            ],
          },
        ],
      },
      "table": "process_items",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql installation-meter-update.query.sql: installation-meter-update.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 51,
      "name": "removalDate",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 40,
      "type": Object {
        "column": "end_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 36,
          "start": 31,
          "tag": "UnquotedIdentifier",
          "value": "end_on",
        },
        "table": "installation_meters",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 96,
      "name": "meterId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 89,
      "type": Object {
        "column": "meter_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 85,
          "start": 78,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 85,
              "start": 78,
              "tag": "UnquotedIdentifier",
              "value": "meter_id",
            },
          ],
        },
        "table": "installation_meters",
        "type": "LoadColumn",
      },
    },
  ],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "installation_meters",
      "schema": undefined,
      "sourceTag": Object {
        "end": 25,
        "start": 7,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 25,
            "start": 7,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 25,
                "start": 7,
                "tag": "UnquotedIdentifier",
                "value": "installation_meters",
              },
            ],
          },
        ],
      },
      "table": "installation_meters",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql installations.sql: installations.sql 1`] = `
Object {
  "params": Array [],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 24,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 24,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 24,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 690,
        "start": 682,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 690,
            "start": 682,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 690,
                "start": 682,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ivi",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1457,
        "start": 1422,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1453,
            "start": 1422,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1424,
                "start": 1422,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1453,
                "start": 1426,
                "tag": "UnquotedIdentifier",
                "value": "InstallationVerificationInfo",
              },
            ],
          },
          Object {
            "end": 1457,
            "start": 1455,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1457,
                "start": 1455,
                "tag": "UnquotedIdentifier",
                "value": "ivi",
              },
            ],
          },
        ],
      },
      "table": "InstallationVerificationInfo",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ivi",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1780,
        "start": 1745,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1776,
            "start": 1745,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1747,
                "start": 1745,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1776,
                "start": 1749,
                "tag": "UnquotedIdentifier",
                "value": "InstallationVerificationInfo",
              },
            ],
          },
          Object {
            "end": 1780,
            "start": 1778,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1780,
                "start": 1778,
                "tag": "UnquotedIdentifier",
                "value": "ivi",
              },
            ],
          },
        ],
      },
      "table": "InstallationVerificationInfo",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2209,
        "start": 2186,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2206,
            "start": 2186,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2188,
                "start": 2186,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2206,
                "start": 2190,
                "tag": "UnquotedIdentifier",
                "value": "InstallationMeter",
              },
            ],
          },
          Object {
            "end": 2209,
            "start": 2208,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2209,
                "start": 2208,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "InstallationMeter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2230,
        "start": 2220,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2228,
            "start": 2220,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2222,
                "start": 2220,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2228,
                "start": 2224,
                "tag": "UnquotedIdentifier",
                "value": "Meter",
              },
            ],
          },
          Object {
            "end": 2230,
            "start": 2230,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2230,
                "start": 2230,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "Meter",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2286,
        "start": 2271,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2283,
            "start": 2271,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2273,
                "start": 2271,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2283,
                "start": 2275,
                "tag": "UnquotedIdentifier",
                "value": "MeterType",
              },
            ],
          },
          Object {
            "end": 2286,
            "start": 2285,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2286,
                "start": 2285,
                "tag": "UnquotedIdentifier",
                "value": "mt",
              },
            ],
          },
        ],
      },
      "table": "MeterType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "s",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2506,
        "start": 2495,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2504,
            "start": 2495,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2497,
                "start": 2495,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2504,
                "start": 2499,
                "tag": "UnquotedIdentifier",
                "value": "Switch",
              },
            ],
          },
          Object {
            "end": 2506,
            "start": 2506,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2506,
                "start": 2506,
                "tag": "UnquotedIdentifier",
                "value": "s",
              },
            ],
          },
        ],
      },
      "table": "Switch",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "s",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2683,
        "start": 2672,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2681,
            "start": 2672,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2674,
                "start": 2672,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2681,
                "start": 2676,
                "tag": "UnquotedIdentifier",
                "value": "Switch",
              },
            ],
          },
          Object {
            "end": 2683,
            "start": 2683,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2683,
                "start": 2683,
                "tag": "UnquotedIdentifier",
                "value": "s",
              },
            ],
          },
        ],
      },
      "table": "Switch",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "s",
      "schema": "fit",
      "sourceTag": Object {
        "end": 2870,
        "start": 2859,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 2868,
            "start": 2859,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 2861,
                "start": 2859,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 2868,
                "start": 2863,
                "tag": "UnquotedIdentifier",
                "value": "Switch",
              },
            ],
          },
          Object {
            "end": 2870,
            "start": 2870,
            "tag": "As",
            "values": Array [
              Object {
                "end": 2870,
                "start": 2870,
                "tag": "UnquotedIdentifier",
                "value": "s",
              },
            ],
          },
        ],
      },
      "table": "Switch",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "i",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3086,
        "start": 3069,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3084,
            "start": 3069,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3071,
                "start": 3069,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3084,
                "start": 3073,
                "tag": "UnquotedIdentifier",
                "value": "Installation",
              },
            ],
          },
          Object {
            "end": 3086,
            "start": 3086,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3086,
                "start": 3086,
                "tag": "UnquotedIdentifier",
                "value": "i",
              },
            ],
          },
        ],
      },
      "table": "Installation",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "it",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3115,
        "start": 3093,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3112,
            "start": 3093,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3095,
                "start": 3093,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3112,
                "start": 3097,
                "tag": "UnquotedIdentifier",
                "value": "InstallationType",
              },
            ],
          },
          Object {
            "end": 3115,
            "start": 3114,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3115,
                "start": 3114,
                "tag": "UnquotedIdentifier",
                "value": "it",
              },
            ],
          },
        ],
      },
      "table": "InstallationType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "gtt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3204,
        "start": 3174,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3200,
            "start": 3174,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3176,
                "start": 3174,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3200,
                "start": 3178,
                "tag": "UnquotedIdentifier",
                "value": "GeneratorTechnologyType",
              },
            ],
          },
          Object {
            "end": 3204,
            "start": 3202,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3204,
                "start": 3202,
                "tag": "UnquotedIdentifier",
                "value": "gtt",
              },
            ],
          },
        ],
      },
      "table": "GeneratorTechnologyType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "pt",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3296,
        "start": 3278,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3293,
            "start": 3278,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3280,
                "start": 3278,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3293,
                "start": 3282,
                "tag": "UnquotedIdentifier",
                "value": "PropertyType",
              },
            ],
          },
          Object {
            "end": 3296,
            "start": 3295,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3296,
                "start": 3295,
                "tag": "UnquotedIdentifier",
                "value": "pt",
              },
            ],
          },
        ],
      },
      "table": "PropertyType",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "gai",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3383,
        "start": 3347,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3379,
            "start": 3347,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3349,
                "start": 3347,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3379,
                "start": 3351,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccountInstallation",
              },
            ],
          },
          Object {
            "end": 3383,
            "start": 3381,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3383,
                "start": 3381,
                "tag": "UnquotedIdentifier",
                "value": "gai",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccountInstallation",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ga",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3458,
        "start": 3435,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3455,
            "start": 3435,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3437,
                "start": 3435,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3455,
                "start": 3439,
                "tag": "UnquotedIdentifier",
                "value": "GenerationAccount",
              },
            ],
          },
          Object {
            "end": 3458,
            "start": 3457,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3458,
                "start": 3457,
                "tag": "UnquotedIdentifier",
                "value": "ga",
              },
            ],
          },
        ],
      },
      "table": "GenerationAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "ca",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3676,
        "start": 3655,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3673,
            "start": 3655,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3657,
                "start": 3655,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3673,
                "start": 3659,
                "tag": "UnquotedIdentifier",
                "value": "CustomerAccount",
              },
            ],
          },
          Object {
            "end": 3676,
            "start": 3675,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3676,
                "start": 3675,
                "tag": "UnquotedIdentifier",
                "value": "ca",
              },
            ],
          },
        ],
      },
      "table": "CustomerAccount",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "c",
      "schema": "fit",
      "sourceTag": Object {
        "end": 3808,
        "start": 3795,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 3806,
            "start": 3795,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 3797,
                "start": 3795,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 3806,
                "start": 3799,
                "tag": "UnquotedIdentifier",
                "value": "Customer",
              },
            ],
          },
          Object {
            "end": 3808,
            "start": 3808,
            "tag": "As",
            "values": Array [
              Object {
                "end": 3808,
                "start": 3808,
                "tag": "UnquotedIdentifier",
                "value": "c",
              },
            ],
          },
        ],
      },
      "table": "Customer",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql levelisations.list.query.sql: levelisations.list.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 177,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 176,
      "type": Object {
        "literal": "",
        "type": "String",
      },
    },
    Object {
      "end": 213,
      "name": "q",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 212,
      "type": Object {
        "column": "quarter",
        "schema": undefined,
        "sourceTag": Object {
          "end": 208,
          "start": 188,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 200,
              "start": 188,
              "tag": "UnquotedIdentifier",
              "value": "levelisations",
            },
            Object {
              "end": 208,
              "start": 202,
              "tag": "UnquotedIdentifier",
              "value": "quarter",
            },
          ],
        },
        "table": "levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 306,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 303,
      "type": Object {
        "items": Object {
          "name": "int4",
          "type": "Named",
          "value": Object {
            "type": "Number",
          },
        },
        "type": "Array",
      },
    },
    Object {
      "end": 436,
      "name": "sortField",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 427,
      "type": Object {
        "literal": "quarter",
        "type": "String",
      },
    },
    Object {
      "end": 463,
      "name": "sortOrder",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 454,
      "type": Object {
        "literal": "DESC",
        "type": "String",
      },
    },
    Object {
      "end": 547,
      "name": "sortOrder",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 538,
      "type": Object {
        "literal": "ASC",
        "type": "String",
      },
    },
    Object {
      "end": 608,
      "name": "limit",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 603,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
    Object {
      "end": 628,
      "name": "offset",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 622,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 28,
          "start": 13,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 25,
              "start": 13,
              "tag": "UnquotedIdentifier",
              "value": "levelisations",
            },
            Object {
              "end": 28,
              "start": 27,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "quarter",
      "type": Object {
        "column": "quarter",
        "schema": undefined,
        "sourceTag": Object {
          "end": 63,
          "start": 43,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 55,
              "start": 43,
              "tag": "UnquotedIdentifier",
              "value": "levelisations",
            },
            Object {
              "end": 63,
              "start": 57,
              "tag": "UnquotedIdentifier",
              "value": "quarter",
            },
          ],
        },
        "table": "levelisations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "startOn",
      "type": Object {
        "column": "start_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 90,
          "start": 83,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 90,
              "start": 83,
              "tag": "UnquotedIdentifier",
              "value": "start_on",
            },
          ],
        },
        "table": undefined,
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "endOn",
      "type": Object {
        "column": "end_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 115,
          "start": 110,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 115,
              "start": 110,
              "tag": "UnquotedIdentifier",
              "value": "end_on",
            },
          ],
        },
        "table": undefined,
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "levelisations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 147,
        "start": 135,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 147,
            "start": 135,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 147,
                "start": 135,
                "tag": "UnquotedIdentifier",
                "value": "levelisations",
              },
            ],
          },
        ],
      },
      "table": "levelisations",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql meter-reads.sql: meter-reads.sql 1`] = `
Object {
  "params": Array [],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "meter_reads",
      "schema": undefined,
      "sourceTag": Object {
        "end": 22,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 22,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 22,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "meter_reads",
              },
            ],
          },
        ],
      },
      "table": "meter_reads",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "meters",
      "schema": undefined,
      "sourceTag": Object {
        "end": 213,
        "start": 208,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 213,
            "start": 208,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 213,
                "start": 208,
                "tag": "UnquotedIdentifier",
                "value": "meters",
              },
            ],
          },
        ],
      },
      "table": "meters",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "mr",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1157,
        "start": 1139,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1154,
            "start": 1139,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1141,
                "start": 1139,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1154,
                "start": 1143,
                "tag": "UnquotedIdentifier",
                "value": "MeterReading",
              },
            ],
          },
          Object {
            "end": 1157,
            "start": 1156,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1157,
                "start": 1156,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "MeterReading",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": "fit",
      "sourceTag": Object {
        "end": 1174,
        "start": 1164,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 1172,
            "start": 1164,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 1166,
                "start": 1164,
                "tag": "UnquotedIdentifier",
                "value": "fit",
              },
              Object {
                "end": 1172,
                "start": 1168,
                "tag": "UnquotedIdentifier",
                "value": "Meter",
              },
            ],
          },
          Object {
            "end": 1174,
            "start": 1174,
            "tag": "As",
            "values": Array [
              Object {
                "end": 1174,
                "start": 1174,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "Meter",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql process-batch.query.sql: process-batch.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 796,
      "name": "fitIds",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 790,
      "type": Object {
        "items": Object {
          "column": "legacy_fit_db_id",
          "schema": undefined,
          "sourceTag": Object {
            "end": 782,
            "start": 753,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 765,
                "start": 753,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
              Object {
                "end": 782,
                "start": 767,
                "tag": "UnquotedIdentifier",
                "value": "legacy_fit_db_id",
              },
            ],
          },
          "table": "installations",
          "type": "LoadColumn",
        },
        "type": "Array",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "cfrFiTId",
      "type": Object {
        "column": "legacy_fit_db_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 38,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 21,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "installations",
            },
            Object {
              "end": 38,
              "start": 23,
              "tag": "UnquotedIdentifier",
              "value": "legacy_fit_db_id",
            },
          ],
        },
        "table": "installations",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "email",
      "type": Object {
        "column": "email",
        "schema": undefined,
        "sourceTag": Object {
          "end": 70,
          "start": 57,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 64,
              "start": 57,
              "tag": "UnquotedIdentifier",
              "value": "contacts",
            },
            Object {
              "end": 70,
              "start": 66,
              "tag": "UnquotedIdentifier",
              "value": "email",
            },
          ],
        },
        "table": "contacts",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "contactName",
      "type": Object {
        "args": Array [
          Object {
            "column": "first_name",
            "schema": undefined,
            "sourceTag": Object {
              "end": 111,
              "start": 93,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 100,
                  "start": 93,
                  "tag": "UnquotedIdentifier",
                  "value": "contacts",
                },
                Object {
                  "end": 111,
                  "start": 102,
                  "tag": "UnquotedIdentifier",
                  "value": "first_name",
                },
              ],
            },
            "table": "contacts",
            "type": "LoadColumn",
          },
          Object {
            "literal": " ",
            "type": "String",
          },
          Object {
            "column": "last_name",
            "schema": undefined,
            "sourceTag": Object {
              "end": 135,
              "start": 118,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 125,
                  "start": 118,
                  "tag": "UnquotedIdentifier",
                  "value": "contacts",
                },
                Object {
                  "end": 135,
                  "start": 127,
                  "tag": "UnquotedIdentifier",
                  "value": "last_name",
                },
              ],
            },
            "table": "contacts",
            "type": "LoadColumn",
          },
        ],
        "name": "concat",
        "schema": undefined,
        "sourceTag": Object {
          "end": 136,
          "start": 86,
          "tag": "Function",
          "values": Array [
            Object {
              "end": 91,
              "start": 86,
              "tag": "QualifiedIdentifier",
              "values": Array [
                Object {
                  "end": 91,
                  "start": 86,
                  "tag": "UnquotedIdentifier",
                  "value": "CONCAT",
                },
              ],
            },
            Object {
              "end": 111,
              "start": 93,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 100,
                  "start": 93,
                  "tag": "UnquotedIdentifier",
                  "value": "contacts",
                },
                Object {
                  "end": 111,
                  "start": 102,
                  "tag": "UnquotedIdentifier",
                  "value": "first_name",
                },
              ],
            },
            Object {
              "end": 115,
              "start": 113,
              "tag": "String",
              "value": " ",
            },
            Object {
              "end": 135,
              "start": 118,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 125,
                  "start": 118,
                  "tag": "UnquotedIdentifier",
                  "value": "contacts",
                },
                Object {
                  "end": 135,
                  "start": 127,
                  "tag": "UnquotedIdentifier",
                  "value": "last_name",
                },
              ],
            },
          ],
        },
        "type": "LoadFunction",
      },
    },
    Object {
      "name": "company",
      "type": Object {
        "column": "company_name",
        "schema": undefined,
        "sourceTag": Object {
          "end": 179,
          "start": 158,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 166,
              "start": 158,
              "tag": "UnquotedIdentifier",
              "value": "customers",
            },
            Object {
              "end": 179,
              "start": 168,
              "tag": "UnquotedIdentifier",
              "value": "company_name",
            },
          ],
        },
        "table": "customers",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "line1",
      "type": Object {
        "column": "address_line_1",
        "schema": undefined,
        "sourceTag": Object {
          "end": 220,
          "start": 197,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 205,
              "start": 197,
              "tag": "UnquotedIdentifier",
              "value": "addresses",
            },
            Object {
              "end": 220,
              "start": 207,
              "tag": "UnquotedIdentifier",
              "value": "address_line_1",
            },
          ],
        },
        "table": "addresses",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "line2",
      "type": Object {
        "args": Array [
          Object {
            "column": "address_line_2",
            "schema": undefined,
            "sourceTag": Object {
              "end": 266,
              "start": 243,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 251,
                  "start": 243,
                  "tag": "UnquotedIdentifier",
                  "value": "addresses",
                },
                Object {
                  "end": 266,
                  "start": 253,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_2",
                },
              ],
            },
            "table": "addresses",
            "type": "LoadColumn",
          },
          Object {
            "literal": " ",
            "type": "String",
          },
          Object {
            "column": "address_line_3",
            "schema": undefined,
            "sourceTag": Object {
              "end": 297,
              "start": 274,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 282,
                  "start": 274,
                  "tag": "UnquotedIdentifier",
                  "value": "addresses",
                },
                Object {
                  "end": 297,
                  "start": 284,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_3",
                },
              ],
            },
            "table": "addresses",
            "type": "LoadColumn",
          },
        ],
        "name": "concat",
        "schema": undefined,
        "sourceTag": Object {
          "end": 298,
          "start": 236,
          "tag": "Function",
          "values": Array [
            Object {
              "end": 241,
              "start": 236,
              "tag": "QualifiedIdentifier",
              "values": Array [
                Object {
                  "end": 241,
                  "start": 236,
                  "tag": "UnquotedIdentifier",
                  "value": "CONCAT",
                },
              ],
            },
            Object {
              "end": 266,
              "start": 243,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 251,
                  "start": 243,
                  "tag": "UnquotedIdentifier",
                  "value": "addresses",
                },
                Object {
                  "end": 266,
                  "start": 253,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_2",
                },
              ],
            },
            Object {
              "end": 271,
              "start": 269,
              "tag": "String",
              "value": " ",
            },
            Object {
              "end": 297,
              "start": 274,
              "tag": "Column",
              "values": Array [
                Object {
                  "end": 282,
                  "start": 274,
                  "tag": "UnquotedIdentifier",
                  "value": "addresses",
                },
                Object {
                  "end": 297,
                  "start": 284,
                  "tag": "UnquotedIdentifier",
                  "value": "address_line_3",
                },
              ],
            },
          ],
        },
        "type": "LoadFunction",
      },
    },
    Object {
      "name": "town",
      "type": Object {
        "column": "city",
        "schema": undefined,
        "sourceTag": Object {
          "end": 327,
          "start": 314,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 322,
              "start": 314,
              "tag": "UnquotedIdentifier",
              "value": "addresses",
            },
            Object {
              "end": 327,
              "start": 324,
              "tag": "UnquotedIdentifier",
              "value": "city",
            },
          ],
        },
        "table": "addresses",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "postcode",
      "type": Object {
        "column": "postcode",
        "schema": undefined,
        "sourceTag": Object {
          "end": 359,
          "start": 342,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 350,
              "start": 342,
              "tag": "UnquotedIdentifier",
              "value": "addresses",
            },
            Object {
              "end": 359,
              "start": 352,
              "tag": "UnquotedIdentifier",
              "value": "postcode",
            },
          ],
        },
        "table": "addresses",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "county",
      "type": Object {
        "column": "county",
        "schema": undefined,
        "sourceTag": Object {
          "end": 393,
          "start": 378,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 386,
              "start": 378,
              "tag": "UnquotedIdentifier",
              "value": "addresses",
            },
            Object {
              "end": 393,
              "start": 388,
              "tag": "UnquotedIdentifier",
              "value": "county",
            },
          ],
        },
        "table": "addresses",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "country",
      "type": Object {
        "column": "country",
        "schema": undefined,
        "sourceTag": Object {
          "end": 426,
          "start": 410,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 418,
              "start": 410,
              "tag": "UnquotedIdentifier",
              "value": "addresses",
            },
            Object {
              "end": 426,
              "start": 420,
              "tag": "UnquotedIdentifier",
              "value": "country",
            },
          ],
        },
        "table": "addresses",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "installations",
      "schema": undefined,
      "sourceTag": Object {
        "end": 458,
        "start": 446,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 458,
            "start": 446,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 458,
                "start": 446,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contracts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 473,
        "start": 465,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 473,
            "start": 465,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 473,
                "start": 465,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "accounts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 535,
        "start": 528,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 535,
            "start": 528,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 535,
                "start": 528,
                "tag": "UnquotedIdentifier",
                "value": "accounts",
              },
            ],
          },
        ],
      },
      "table": "accounts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "customers",
      "schema": undefined,
      "sourceTag": Object {
        "end": 588,
        "start": 580,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 588,
            "start": 580,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 588,
                "start": 580,
                "tag": "UnquotedIdentifier",
                "value": "customers",
              },
            ],
          },
        ],
      },
      "table": "customers",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "contacts",
      "schema": undefined,
      "sourceTag": Object {
        "end": 641,
        "start": 634,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 641,
            "start": 634,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 641,
                "start": 634,
                "tag": "UnquotedIdentifier",
                "value": "contacts",
              },
            ],
          },
        ],
      },
      "table": "contacts",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "addresses",
      "schema": undefined,
      "sourceTag": Object {
        "end": 707,
        "start": 699,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 707,
            "start": 699,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 707,
                "start": 699,
                "tag": "UnquotedIdentifier",
                "value": "addresses",
              },
            ],
          },
        ],
      },
      "table": "addresses",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql rates-by-tarrif-ids.query.sql: rates-by-tarrif-ids.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 318,
      "name": "ids",
      "pick": Array [],
      "required": false,
      "spread": true,
      "start": 314,
      "type": Object {
        "items": Object {
          "column": "id",
          "schema": undefined,
          "sourceTag": Object {
            "end": 309,
            "start": 306,
            "tag": "Column",
            "values": Array [
              Object {
                "end": 306,
                "start": 306,
                "tag": "UnquotedIdentifier",
                "value": "t",
              },
              Object {
                "end": 309,
                "start": 308,
                "tag": "UnquotedIdentifier",
                "value": "id",
              },
            ],
          },
          "table": "t",
          "type": "LoadColumn",
        },
        "type": "Array",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "tariffId",
      "type": Object {
        "column": "tariff_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 19,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 9,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "r",
            },
            Object {
              "end": 19,
              "start": 11,
              "tag": "UnquotedIdentifier",
              "value": "tariff_id",
            },
          ],
        },
        "table": "r",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "rate",
      "type": Object {
        "column": "rate",
        "schema": undefined,
        "sourceTag": Object {
          "end": 43,
          "start": 38,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 38,
              "start": 38,
              "tag": "UnquotedIdentifier",
              "value": "r",
            },
            Object {
              "end": 43,
              "start": 40,
              "tag": "UnquotedIdentifier",
              "value": "rate",
            },
          ],
        },
        "table": "r",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "startOn",
      "type": Object {
        "column": "start_date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 62,
          "start": 48,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 48,
              "start": 48,
              "tag": "UnquotedIdentifier",
              "value": "r",
            },
            Object {
              "end": 62,
              "start": 50,
              "tag": "UnquotedIdentifier",
              "value": "start_date_on",
            },
          ],
        },
        "table": "r",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "tariffCode",
      "type": Object {
        "column": "code",
        "schema": undefined,
        "sourceTag": Object {
          "end": 85,
          "start": 80,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 80,
              "start": 80,
              "tag": "UnquotedIdentifier",
              "value": "t",
            },
            Object {
              "end": 85,
              "start": 82,
              "tag": "UnquotedIdentifier",
              "value": "code",
            },
          ],
        },
        "table": "t",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "tariffType",
      "type": Object {
        "column": "type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 111,
          "start": 106,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 106,
              "start": 106,
              "tag": "UnquotedIdentifier",
              "value": "t",
            },
            Object {
              "end": 111,
              "start": 108,
              "tag": "UnquotedIdentifier",
              "value": "type",
            },
          ],
        },
        "table": "t",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "endOn",
      "type": Object {
        "column": "end_date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 144,
          "start": 132,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 132,
              "start": 132,
              "tag": "UnquotedIdentifier",
              "value": "r",
            },
            Object {
              "end": 144,
              "start": 134,
              "tag": "UnquotedIdentifier",
              "value": "end_date_on",
            },
          ],
        },
        "table": "r",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "r",
      "schema": undefined,
      "sourceTag": Object {
        "end": 175,
        "start": 162,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 173,
            "start": 162,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 173,
                "start": 162,
                "tag": "UnquotedIdentifier",
                "value": "tariff_rates",
              },
            ],
          },
          Object {
            "end": 175,
            "start": 175,
            "tag": "As",
            "values": Array [
              Object {
                "end": 175,
                "start": 175,
                "tag": "UnquotedIdentifier",
                "value": "r",
              },
            ],
          },
        ],
      },
      "table": "tariff_rates",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "t",
      "schema": undefined,
      "sourceTag": Object {
        "end": 195,
        "start": 187,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 193,
            "start": 187,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 193,
                "start": 187,
                "tag": "UnquotedIdentifier",
                "value": "tariffs",
              },
            ],
          },
          Object {
            "end": 195,
            "start": 195,
            "tag": "As",
            "values": Array [
              Object {
                "end": 195,
                "start": 195,
                "tag": "UnquotedIdentifier",
                "value": "t",
              },
            ],
          },
        ],
      },
      "table": "tariffs",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql read-create.query.sql: read-create.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 99,
      "name": "meterId",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 92,
      "type": Object {
        "column": "meter_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 297,
          "start": 0,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 23,
              "start": 13,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 23,
                  "start": 13,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 23,
                      "start": 13,
                      "tag": "UnquotedIdentifier",
                      "value": "meter_reads",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 82,
              "start": 25,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 33,
                  "start": 26,
                  "tag": "UnquotedIdentifier",
                  "value": "meter_id",
                },
                Object {
                  "end": 41,
                  "start": 36,
                  "tag": "UnquotedIdentifier",
                  "value": "reason",
                },
                Object {
                  "end": 49,
                  "start": 44,
                  "tag": "QuotedIdentifier",
                  "value": "type",
                },
                Object {
                  "end": 58,
                  "start": 52,
                  "tag": "UnquotedIdentifier",
                  "value": "date_on",
                },
                Object {
                  "end": 72,
                  "start": 61,
                  "tag": "UnquotedIdentifier",
                  "value": "submitted_at",
                },
                Object {
                  "end": 81,
                  "start": 75,
                  "tag": "QuotedIdentifier",
                  "value": "value",
                },
              ],
            },
            Object {
              "end": 213,
              "start": 85,
              "tag": "ValuesList",
              "values": Array [
                Object {
                  "end": 213,
                  "start": 91,
                  "tag": "Values",
                  "values": Array [
                    Object {
                      "end": 99,
                      "pick": Array [],
                      "required": false,
                      "start": 92,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "meterId",
                    },
                    Object {
                      "end": 108,
                      "pick": Array [],
                      "required": false,
                      "start": 102,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "reason",
                    },
                    Object {
                      "end": 115,
                      "pick": Array [],
                      "required": false,
                      "start": 111,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "type",
                    },
                    Object {
                      "end": 148,
                      "start": 118,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 125,
                          "start": 118,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 125,
                              "start": 118,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 133,
                          "pick": Array [],
                          "required": false,
                          "start": 127,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "dateOn",
                        },
                        Object {
                          "end": 147,
                          "start": 136,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 147,
                              "start": 136,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 147,
                                  "start": 136,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 186,
                      "start": 151,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 158,
                          "start": 151,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 158,
                              "start": 151,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 171,
                          "pick": Array [],
                          "required": false,
                          "start": 160,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "submittedAt",
                        },
                        Object {
                          "end": 185,
                          "start": 174,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 185,
                              "start": 174,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 185,
                                  "start": 174,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 212,
                      "start": 189,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 196,
                          "start": 189,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 196,
                              "start": 189,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "nextPos": 209,
                          "pos": 198,
                          "tag": "PgCast",
                          "values": Array [
                            Object {
                              "end": 203,
                              "pick": Array [],
                              "required": false,
                              "start": 198,
                              "tag": "Parameter",
                              "type": "single",
                              "value": "value",
                            },
                            Object {
                              "end": 208,
                              "start": 206,
                              "tag": "Type",
                              "values": Array [
                                Object {
                                  "end": 208,
                                  "start": 206,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 208,
                                      "start": 206,
                                      "tag": "UnquotedIdentifier",
                                      "value": "int",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 211,
                          "start": 211,
                          "tag": "Number",
                          "value": "0",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 297,
              "start": 215,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 228,
                  "start": 227,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 227,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 227,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 239,
                  "start": 233,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 239,
                      "start": 233,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 239,
                          "start": 233,
                          "tag": "QuotedIdentifier",
                          "value": "value",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 264,
                  "start": 244,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 251,
                      "start": 244,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 251,
                          "start": 244,
                          "tag": "UnquotedIdentifier",
                          "value": "meter_id",
                        },
                      ],
                    },
                    Object {
                      "end": 264,
                      "start": 253,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 264,
                          "start": 256,
                          "tag": "QuotedIdentifier",
                          "value": "meterId",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 297,
                  "start": 269,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 280,
                      "start": 269,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 280,
                          "start": 269,
                          "tag": "UnquotedIdentifier",
                          "value": "submitted_at",
                        },
                      ],
                    },
                    Object {
                      "end": 297,
                      "start": 282,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 297,
                          "start": 285,
                          "tag": "QuotedIdentifier",
                          "value": "submittedAt",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 108,
      "name": "reason",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 102,
      "type": Object {
        "column": "reason",
        "schema": undefined,
        "sourceTag": Object {
          "end": 297,
          "start": 0,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 23,
              "start": 13,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 23,
                  "start": 13,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 23,
                      "start": 13,
                      "tag": "UnquotedIdentifier",
                      "value": "meter_reads",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 82,
              "start": 25,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 33,
                  "start": 26,
                  "tag": "UnquotedIdentifier",
                  "value": "meter_id",
                },
                Object {
                  "end": 41,
                  "start": 36,
                  "tag": "UnquotedIdentifier",
                  "value": "reason",
                },
                Object {
                  "end": 49,
                  "start": 44,
                  "tag": "QuotedIdentifier",
                  "value": "type",
                },
                Object {
                  "end": 58,
                  "start": 52,
                  "tag": "UnquotedIdentifier",
                  "value": "date_on",
                },
                Object {
                  "end": 72,
                  "start": 61,
                  "tag": "UnquotedIdentifier",
                  "value": "submitted_at",
                },
                Object {
                  "end": 81,
                  "start": 75,
                  "tag": "QuotedIdentifier",
                  "value": "value",
                },
              ],
            },
            Object {
              "end": 213,
              "start": 85,
              "tag": "ValuesList",
              "values": Array [
                Object {
                  "end": 213,
                  "start": 91,
                  "tag": "Values",
                  "values": Array [
                    Object {
                      "end": 99,
                      "pick": Array [],
                      "required": false,
                      "start": 92,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "meterId",
                    },
                    Object {
                      "end": 108,
                      "pick": Array [],
                      "required": false,
                      "start": 102,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "reason",
                    },
                    Object {
                      "end": 115,
                      "pick": Array [],
                      "required": false,
                      "start": 111,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "type",
                    },
                    Object {
                      "end": 148,
                      "start": 118,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 125,
                          "start": 118,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 125,
                              "start": 118,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 133,
                          "pick": Array [],
                          "required": false,
                          "start": 127,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "dateOn",
                        },
                        Object {
                          "end": 147,
                          "start": 136,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 147,
                              "start": 136,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 147,
                                  "start": 136,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 186,
                      "start": 151,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 158,
                          "start": 151,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 158,
                              "start": 151,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 171,
                          "pick": Array [],
                          "required": false,
                          "start": 160,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "submittedAt",
                        },
                        Object {
                          "end": 185,
                          "start": 174,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 185,
                              "start": 174,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 185,
                                  "start": 174,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 212,
                      "start": 189,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 196,
                          "start": 189,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 196,
                              "start": 189,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "nextPos": 209,
                          "pos": 198,
                          "tag": "PgCast",
                          "values": Array [
                            Object {
                              "end": 203,
                              "pick": Array [],
                              "required": false,
                              "start": 198,
                              "tag": "Parameter",
                              "type": "single",
                              "value": "value",
                            },
                            Object {
                              "end": 208,
                              "start": 206,
                              "tag": "Type",
                              "values": Array [
                                Object {
                                  "end": 208,
                                  "start": 206,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 208,
                                      "start": 206,
                                      "tag": "UnquotedIdentifier",
                                      "value": "int",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 211,
                          "start": 211,
                          "tag": "Number",
                          "value": "0",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 297,
              "start": 215,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 228,
                  "start": 227,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 227,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 227,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 239,
                  "start": 233,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 239,
                      "start": 233,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 239,
                          "start": 233,
                          "tag": "QuotedIdentifier",
                          "value": "value",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 264,
                  "start": 244,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 251,
                      "start": 244,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 251,
                          "start": 244,
                          "tag": "UnquotedIdentifier",
                          "value": "meter_id",
                        },
                      ],
                    },
                    Object {
                      "end": 264,
                      "start": 253,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 264,
                          "start": 256,
                          "tag": "QuotedIdentifier",
                          "value": "meterId",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 297,
                  "start": 269,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 280,
                      "start": 269,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 280,
                          "start": 269,
                          "tag": "UnquotedIdentifier",
                          "value": "submitted_at",
                        },
                      ],
                    },
                    Object {
                      "end": 297,
                      "start": 282,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 297,
                          "start": 285,
                          "tag": "QuotedIdentifier",
                          "value": "submittedAt",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 115,
      "name": "type",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 111,
      "type": Object {
        "column": "type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 297,
          "start": 0,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 23,
              "start": 13,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 23,
                  "start": 13,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 23,
                      "start": 13,
                      "tag": "UnquotedIdentifier",
                      "value": "meter_reads",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 82,
              "start": 25,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 33,
                  "start": 26,
                  "tag": "UnquotedIdentifier",
                  "value": "meter_id",
                },
                Object {
                  "end": 41,
                  "start": 36,
                  "tag": "UnquotedIdentifier",
                  "value": "reason",
                },
                Object {
                  "end": 49,
                  "start": 44,
                  "tag": "QuotedIdentifier",
                  "value": "type",
                },
                Object {
                  "end": 58,
                  "start": 52,
                  "tag": "UnquotedIdentifier",
                  "value": "date_on",
                },
                Object {
                  "end": 72,
                  "start": 61,
                  "tag": "UnquotedIdentifier",
                  "value": "submitted_at",
                },
                Object {
                  "end": 81,
                  "start": 75,
                  "tag": "QuotedIdentifier",
                  "value": "value",
                },
              ],
            },
            Object {
              "end": 213,
              "start": 85,
              "tag": "ValuesList",
              "values": Array [
                Object {
                  "end": 213,
                  "start": 91,
                  "tag": "Values",
                  "values": Array [
                    Object {
                      "end": 99,
                      "pick": Array [],
                      "required": false,
                      "start": 92,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "meterId",
                    },
                    Object {
                      "end": 108,
                      "pick": Array [],
                      "required": false,
                      "start": 102,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "reason",
                    },
                    Object {
                      "end": 115,
                      "pick": Array [],
                      "required": false,
                      "start": 111,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "type",
                    },
                    Object {
                      "end": 148,
                      "start": 118,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 125,
                          "start": 118,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 125,
                              "start": 118,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 133,
                          "pick": Array [],
                          "required": false,
                          "start": 127,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "dateOn",
                        },
                        Object {
                          "end": 147,
                          "start": 136,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 147,
                              "start": 136,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 147,
                                  "start": 136,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 186,
                      "start": 151,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 158,
                          "start": 151,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 158,
                              "start": 151,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 171,
                          "pick": Array [],
                          "required": false,
                          "start": 160,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "submittedAt",
                        },
                        Object {
                          "end": 185,
                          "start": 174,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 185,
                              "start": 174,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 185,
                                  "start": 174,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 212,
                      "start": 189,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 196,
                          "start": 189,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 196,
                              "start": 189,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "nextPos": 209,
                          "pos": 198,
                          "tag": "PgCast",
                          "values": Array [
                            Object {
                              "end": 203,
                              "pick": Array [],
                              "required": false,
                              "start": 198,
                              "tag": "Parameter",
                              "type": "single",
                              "value": "value",
                            },
                            Object {
                              "end": 208,
                              "start": 206,
                              "tag": "Type",
                              "values": Array [
                                Object {
                                  "end": 208,
                                  "start": 206,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 208,
                                      "start": 206,
                                      "tag": "UnquotedIdentifier",
                                      "value": "int",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 211,
                          "start": 211,
                          "tag": "Number",
                          "value": "0",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 297,
              "start": 215,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 228,
                  "start": 227,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 227,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 227,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 239,
                  "start": 233,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 239,
                      "start": 233,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 239,
                          "start": 233,
                          "tag": "QuotedIdentifier",
                          "value": "value",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 264,
                  "start": 244,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 251,
                      "start": 244,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 251,
                          "start": 244,
                          "tag": "UnquotedIdentifier",
                          "value": "meter_id",
                        },
                      ],
                    },
                    Object {
                      "end": 264,
                      "start": 253,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 264,
                          "start": 256,
                          "tag": "QuotedIdentifier",
                          "value": "meterId",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 297,
                  "start": 269,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 280,
                      "start": 269,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 280,
                          "start": 269,
                          "tag": "UnquotedIdentifier",
                          "value": "submitted_at",
                        },
                      ],
                    },
                    Object {
                      "end": 297,
                      "start": 282,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 297,
                          "start": 285,
                          "tag": "QuotedIdentifier",
                          "value": "submittedAt",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 133,
      "name": "dateOn",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 127,
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 297,
          "start": 0,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 23,
              "start": 13,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 23,
                  "start": 13,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 23,
                      "start": 13,
                      "tag": "UnquotedIdentifier",
                      "value": "meter_reads",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 82,
              "start": 25,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 33,
                  "start": 26,
                  "tag": "UnquotedIdentifier",
                  "value": "meter_id",
                },
                Object {
                  "end": 41,
                  "start": 36,
                  "tag": "UnquotedIdentifier",
                  "value": "reason",
                },
                Object {
                  "end": 49,
                  "start": 44,
                  "tag": "QuotedIdentifier",
                  "value": "type",
                },
                Object {
                  "end": 58,
                  "start": 52,
                  "tag": "UnquotedIdentifier",
                  "value": "date_on",
                },
                Object {
                  "end": 72,
                  "start": 61,
                  "tag": "UnquotedIdentifier",
                  "value": "submitted_at",
                },
                Object {
                  "end": 81,
                  "start": 75,
                  "tag": "QuotedIdentifier",
                  "value": "value",
                },
              ],
            },
            Object {
              "end": 213,
              "start": 85,
              "tag": "ValuesList",
              "values": Array [
                Object {
                  "end": 213,
                  "start": 91,
                  "tag": "Values",
                  "values": Array [
                    Object {
                      "end": 99,
                      "pick": Array [],
                      "required": false,
                      "start": 92,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "meterId",
                    },
                    Object {
                      "end": 108,
                      "pick": Array [],
                      "required": false,
                      "start": 102,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "reason",
                    },
                    Object {
                      "end": 115,
                      "pick": Array [],
                      "required": false,
                      "start": 111,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "type",
                    },
                    Object {
                      "end": 148,
                      "start": 118,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 125,
                          "start": 118,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 125,
                              "start": 118,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 133,
                          "pick": Array [],
                          "required": false,
                          "start": 127,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "dateOn",
                        },
                        Object {
                          "end": 147,
                          "start": 136,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 147,
                              "start": 136,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 147,
                                  "start": 136,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 186,
                      "start": 151,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 158,
                          "start": 151,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 158,
                              "start": 151,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 171,
                          "pick": Array [],
                          "required": false,
                          "start": 160,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "submittedAt",
                        },
                        Object {
                          "end": 185,
                          "start": 174,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 185,
                              "start": 174,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 185,
                                  "start": 174,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 212,
                      "start": 189,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 196,
                          "start": 189,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 196,
                              "start": 189,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "nextPos": 209,
                          "pos": 198,
                          "tag": "PgCast",
                          "values": Array [
                            Object {
                              "end": 203,
                              "pick": Array [],
                              "required": false,
                              "start": 198,
                              "tag": "Parameter",
                              "type": "single",
                              "value": "value",
                            },
                            Object {
                              "end": 208,
                              "start": 206,
                              "tag": "Type",
                              "values": Array [
                                Object {
                                  "end": 208,
                                  "start": 206,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 208,
                                      "start": 206,
                                      "tag": "UnquotedIdentifier",
                                      "value": "int",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 211,
                          "start": 211,
                          "tag": "Number",
                          "value": "0",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 297,
              "start": 215,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 228,
                  "start": 227,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 227,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 227,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 239,
                  "start": 233,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 239,
                      "start": 233,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 239,
                          "start": 233,
                          "tag": "QuotedIdentifier",
                          "value": "value",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 264,
                  "start": 244,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 251,
                      "start": 244,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 251,
                          "start": 244,
                          "tag": "UnquotedIdentifier",
                          "value": "meter_id",
                        },
                      ],
                    },
                    Object {
                      "end": 264,
                      "start": 253,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 264,
                          "start": 256,
                          "tag": "QuotedIdentifier",
                          "value": "meterId",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 297,
                  "start": 269,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 280,
                      "start": 269,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 280,
                          "start": 269,
                          "tag": "UnquotedIdentifier",
                          "value": "submitted_at",
                        },
                      ],
                    },
                    Object {
                      "end": 297,
                      "start": 282,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 297,
                          "start": 285,
                          "tag": "QuotedIdentifier",
                          "value": "submittedAt",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 171,
      "name": "submittedAt",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 160,
      "type": Object {
        "column": "submitted_at",
        "schema": undefined,
        "sourceTag": Object {
          "end": 297,
          "start": 0,
          "tag": "Insert",
          "values": Array [
            Object {
              "end": 23,
              "start": 13,
              "tag": "Table",
              "values": Array [
                Object {
                  "end": 23,
                  "start": 13,
                  "tag": "QualifiedIdentifier",
                  "values": Array [
                    Object {
                      "end": 23,
                      "start": 13,
                      "tag": "UnquotedIdentifier",
                      "value": "meter_reads",
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 82,
              "start": 25,
              "tag": "Columns",
              "values": Array [
                Object {
                  "end": 33,
                  "start": 26,
                  "tag": "UnquotedIdentifier",
                  "value": "meter_id",
                },
                Object {
                  "end": 41,
                  "start": 36,
                  "tag": "UnquotedIdentifier",
                  "value": "reason",
                },
                Object {
                  "end": 49,
                  "start": 44,
                  "tag": "QuotedIdentifier",
                  "value": "type",
                },
                Object {
                  "end": 58,
                  "start": 52,
                  "tag": "UnquotedIdentifier",
                  "value": "date_on",
                },
                Object {
                  "end": 72,
                  "start": 61,
                  "tag": "UnquotedIdentifier",
                  "value": "submitted_at",
                },
                Object {
                  "end": 81,
                  "start": 75,
                  "tag": "QuotedIdentifier",
                  "value": "value",
                },
              ],
            },
            Object {
              "end": 213,
              "start": 85,
              "tag": "ValuesList",
              "values": Array [
                Object {
                  "end": 213,
                  "start": 91,
                  "tag": "Values",
                  "values": Array [
                    Object {
                      "end": 99,
                      "pick": Array [],
                      "required": false,
                      "start": 92,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "meterId",
                    },
                    Object {
                      "end": 108,
                      "pick": Array [],
                      "required": false,
                      "start": 102,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "reason",
                    },
                    Object {
                      "end": 115,
                      "pick": Array [],
                      "required": false,
                      "start": 111,
                      "tag": "Parameter",
                      "type": "single",
                      "value": "type",
                    },
                    Object {
                      "end": 148,
                      "start": 118,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 125,
                          "start": 118,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 125,
                              "start": 118,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 133,
                          "pick": Array [],
                          "required": false,
                          "start": 127,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "dateOn",
                        },
                        Object {
                          "end": 147,
                          "start": 136,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 147,
                              "start": 136,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 147,
                                  "start": 136,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 186,
                      "start": 151,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 158,
                          "start": 151,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 158,
                              "start": 151,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "end": 171,
                          "pick": Array [],
                          "required": false,
                          "start": 160,
                          "tag": "Parameter",
                          "type": "single",
                          "value": "submittedAt",
                        },
                        Object {
                          "end": 185,
                          "start": 174,
                          "tag": "Function",
                          "values": Array [
                            Object {
                              "end": 185,
                              "start": 174,
                              "tag": "QualifiedIdentifier",
                              "values": Array [
                                Object {
                                  "end": 185,
                                  "start": 174,
                                  "tag": "UnquotedIdentifier",
                                  "value": "CURRENT_DATE",
                                },
                              ],
                            },
                          ],
                        },
                      ],
                    },
                    Object {
                      "end": 212,
                      "start": 189,
                      "tag": "Function",
                      "values": Array [
                        Object {
                          "end": 196,
                          "start": 189,
                          "tag": "QualifiedIdentifier",
                          "values": Array [
                            Object {
                              "end": 196,
                              "start": 189,
                              "tag": "UnquotedIdentifier",
                              "value": "COALESCE",
                            },
                          ],
                        },
                        Object {
                          "nextPos": 209,
                          "pos": 198,
                          "tag": "PgCast",
                          "values": Array [
                            Object {
                              "end": 203,
                              "pick": Array [],
                              "required": false,
                              "start": 198,
                              "tag": "Parameter",
                              "type": "single",
                              "value": "value",
                            },
                            Object {
                              "end": 208,
                              "start": 206,
                              "tag": "Type",
                              "values": Array [
                                Object {
                                  "end": 208,
                                  "start": 206,
                                  "tag": "QualifiedIdentifier",
                                  "values": Array [
                                    Object {
                                      "end": 208,
                                      "start": 206,
                                      "tag": "UnquotedIdentifier",
                                      "value": "int",
                                    },
                                  ],
                                },
                              ],
                            },
                          ],
                        },
                        Object {
                          "end": 211,
                          "start": 211,
                          "tag": "Number",
                          "value": "0",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
            Object {
              "end": 297,
              "start": 215,
              "tag": "Returning",
              "values": Array [
                Object {
                  "end": 228,
                  "start": 227,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 228,
                      "start": 227,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 228,
                          "start": 227,
                          "tag": "UnquotedIdentifier",
                          "value": "id",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 239,
                  "start": 233,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 239,
                      "start": 233,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 239,
                          "start": 233,
                          "tag": "QuotedIdentifier",
                          "value": "value",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 264,
                  "start": 244,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 251,
                      "start": 244,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 251,
                          "start": 244,
                          "tag": "UnquotedIdentifier",
                          "value": "meter_id",
                        },
                      ],
                    },
                    Object {
                      "end": 264,
                      "start": 253,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 264,
                          "start": 256,
                          "tag": "QuotedIdentifier",
                          "value": "meterId",
                        },
                      ],
                    },
                  ],
                },
                Object {
                  "end": 297,
                  "start": 269,
                  "tag": "ReturningListItem",
                  "values": Array [
                    Object {
                      "end": 280,
                      "start": 269,
                      "tag": "Column",
                      "values": Array [
                        Object {
                          "end": 280,
                          "start": 269,
                          "tag": "UnquotedIdentifier",
                          "value": "submitted_at",
                        },
                      ],
                    },
                    Object {
                      "end": 297,
                      "start": 282,
                      "tag": "As",
                      "values": Array [
                        Object {
                          "end": 297,
                          "start": 285,
                          "tag": "QuotedIdentifier",
                          "value": "submittedAt",
                        },
                      ],
                    },
                  ],
                },
              ],
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 203,
      "name": "value",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 198,
      "type": Object {
        "name": "int4",
        "type": "Named",
        "value": Object {
          "type": "Number",
        },
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 228,
          "start": 227,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 228,
              "start": 227,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "value",
      "type": Object {
        "column": "value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 239,
          "start": 233,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 239,
              "start": 233,
              "tag": "QuotedIdentifier",
              "value": "value",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "meterId",
      "type": Object {
        "column": "meter_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 251,
          "start": 244,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 251,
              "start": 244,
              "tag": "UnquotedIdentifier",
              "value": "meter_id",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "submittedAt",
      "type": Object {
        "column": "submitted_at",
        "schema": undefined,
        "sourceTag": Object {
          "end": 280,
          "start": 269,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 280,
              "start": 269,
              "tag": "UnquotedIdentifier",
              "value": "submitted_at",
            },
          ],
        },
        "table": "meter_reads",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "meter_reads",
      "schema": undefined,
      "sourceTag": Object {
        "end": 23,
        "start": 13,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 23,
            "start": 13,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 23,
                "start": 13,
                "tag": "UnquotedIdentifier",
                "value": "meter_reads",
              },
            ],
          },
        ],
      },
      "table": "meter_reads",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql reads-by-account-id.query.sql: reads-by-account-id.query.sql 1`] = `
Object {
  "params": Array [
    Object {
      "end": 595,
      "name": "id",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 593,
      "type": Object {
        "column": "account_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 589,
          "start": 578,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 578,
              "start": 578,
              "tag": "UnquotedIdentifier",
              "value": "c",
            },
            Object {
              "end": 589,
              "start": 580,
              "tag": "UnquotedIdentifier",
              "value": "account_id",
            },
          ],
        },
        "table": "c",
        "type": "LoadColumn",
      },
    },
    Object {
      "end": 630,
      "name": "offset",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 624,
      "type": Object {
        "type": "String",
      },
    },
    Object {
      "end": 645,
      "name": "perPage",
      "pick": Array [],
      "required": false,
      "spread": false,
      "start": 638,
      "type": Object {
        "type": "String",
      },
    },
  ],
  "results": Array [
    Object {
      "name": "id",
      "type": Object {
        "column": "id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 13,
          "start": 9,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 10,
              "start": 9,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 13,
              "start": 12,
              "tag": "UnquotedIdentifier",
              "value": "id",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "msn",
      "type": Object {
        "column": "serial_number",
        "schema": undefined,
        "sourceTag": Object {
          "end": 32,
          "start": 18,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 18,
              "start": 18,
              "tag": "UnquotedIdentifier",
              "value": "m",
            },
            Object {
              "end": 32,
              "start": 20,
              "tag": "UnquotedIdentifier",
              "value": "serial_number",
            },
          ],
        },
        "table": "m",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "meterId",
      "type": Object {
        "column": "meter_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 56,
          "start": 46,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 47,
              "start": 46,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 56,
              "start": 49,
              "tag": "UnquotedIdentifier",
              "value": "meter_id",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "dateOn",
      "type": Object {
        "column": "date_on",
        "schema": undefined,
        "sourceTag": Object {
          "end": 80,
          "start": 74,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 80,
              "start": 74,
              "tag": "UnquotedIdentifier",
              "value": "date_on",
            },
          ],
        },
        "table": undefined,
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "value",
      "type": Object {
        "column": "value",
        "schema": undefined,
        "sourceTag": Object {
          "end": 101,
          "start": 97,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 101,
              "start": 97,
              "tag": "UnquotedIdentifier",
              "value": "value",
            },
          ],
        },
        "table": undefined,
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "type",
      "type": Object {
        "column": "type",
        "schema": undefined,
        "sourceTag": Object {
          "end": 112,
          "start": 106,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 107,
              "start": 106,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 112,
              "start": 109,
              "tag": "UnquotedIdentifier",
              "value": "type",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "reason",
      "type": Object {
        "column": "reason",
        "schema": undefined,
        "sourceTag": Object {
          "end": 122,
          "start": 117,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 122,
              "start": 117,
              "tag": "UnquotedIdentifier",
              "value": "reason",
            },
          ],
        },
        "table": undefined,
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "createdAt",
      "type": Object {
        "column": "created_at",
        "schema": undefined,
        "sourceTag": Object {
          "end": 139,
          "start": 127,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 128,
              "start": 127,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 139,
              "start": 130,
              "tag": "UnquotedIdentifier",
              "value": "created_at",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "updatedAt",
      "type": Object {
        "column": "updated_at",
        "schema": undefined,
        "sourceTag": Object {
          "end": 171,
          "start": 159,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 160,
              "start": 159,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 171,
              "start": 162,
              "tag": "UnquotedIdentifier",
              "value": "updated_at",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "sourceSystemId",
      "type": Object {
        "column": "source_system_id",
        "schema": undefined,
        "sourceTag": Object {
          "end": 209,
          "start": 191,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 192,
              "start": 191,
              "tag": "UnquotedIdentifier",
              "value": "mr",
            },
            Object {
              "end": 209,
              "start": 194,
              "tag": "UnquotedIdentifier",
              "value": "source_system_id",
            },
          ],
        },
        "table": "mr",
        "type": "LoadColumn",
      },
    },
    Object {
      "name": "mpan",
      "type": Object {
        "column": "mpan",
        "schema": undefined,
        "sourceTag": Object {
          "end": 239,
          "start": 234,
          "tag": "Column",
          "values": Array [
            Object {
              "end": 234,
              "start": 234,
              "tag": "UnquotedIdentifier",
              "value": "m",
            },
            Object {
              "end": 239,
              "start": 236,
              "tag": "UnquotedIdentifier",
              "value": "mpan",
            },
          ],
        },
        "table": "m",
        "type": "LoadColumn",
      },
    },
  ],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "mr",
      "schema": undefined,
      "sourceTag": Object {
        "end": 259,
        "start": 246,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 256,
            "start": 246,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 256,
                "start": 246,
                "tag": "UnquotedIdentifier",
                "value": "meter_reads",
              },
            ],
          },
          Object {
            "end": 259,
            "start": 258,
            "tag": "As",
            "values": Array [
              Object {
                "end": 259,
                "start": 258,
                "tag": "UnquotedIdentifier",
                "value": "mr",
              },
            ],
          },
        ],
      },
      "table": "meter_reads",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "m",
      "schema": undefined,
      "sourceTag": Object {
        "end": 285,
        "start": 278,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 283,
            "start": 278,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 283,
                "start": 278,
                "tag": "UnquotedIdentifier",
                "value": "meters",
              },
            ],
          },
          Object {
            "end": 285,
            "start": 285,
            "tag": "As",
            "values": Array [
              Object {
                "end": 285,
                "start": 285,
                "tag": "UnquotedIdentifier",
                "value": "m",
              },
            ],
          },
        ],
      },
      "table": "meters",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "im",
      "schema": undefined,
      "sourceTag": Object {
        "end": 364,
        "start": 343,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 361,
            "start": 343,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 361,
                "start": 343,
                "tag": "UnquotedIdentifier",
                "value": "installation_meters",
              },
            ],
          },
          Object {
            "end": 364,
            "start": 363,
            "tag": "As",
            "values": Array [
              Object {
                "end": 364,
                "start": 363,
                "tag": "UnquotedIdentifier",
                "value": "im",
              },
            ],
          },
        ],
      },
      "table": "installation_meters",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "i",
      "schema": undefined,
      "sourceTag": Object {
        "end": 437,
        "start": 423,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 435,
            "start": 423,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 435,
                "start": 423,
                "tag": "UnquotedIdentifier",
                "value": "installations",
              },
            ],
          },
          Object {
            "end": 437,
            "start": 437,
            "tag": "As",
            "values": Array [
              Object {
                "end": 437,
                "start": 437,
                "tag": "UnquotedIdentifier",
                "value": "i",
              },
            ],
          },
        ],
      },
      "table": "installations",
      "type": "Table",
    },
    Object {
      "isResult": true,
      "name": "c",
      "schema": undefined,
      "sourceTag": Object {
        "end": 512,
        "start": 502,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 510,
            "start": 502,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 510,
                "start": 502,
                "tag": "UnquotedIdentifier",
                "value": "contracts",
              },
            ],
          },
          Object {
            "end": 512,
            "start": 512,
            "tag": "As",
            "values": Array [
              Object {
                "end": 512,
                "start": 512,
                "tag": "UnquotedIdentifier",
                "value": "c",
              },
            ],
          },
        ],
      },
      "table": "contracts",
      "type": "Table",
    },
  ],
}
`;

exports[`Query Interface Should convert complex sql tariff-rates.sql: tariff-rates.sql 1`] = `
Object {
  "params": Array [],
  "results": Array [],
  "sources": Array [
    Object {
      "isResult": true,
      "name": "tariffs",
      "schema": undefined,
      "sourceTag": Object {
        "end": 18,
        "start": 12,
        "tag": "Table",
        "values": Array [
          Object {
            "end": 18,
            "start": 12,
            "tag": "QualifiedIdentifier",
            "values": Array [
              Object {
                "end": 18,
                "start": 12,
                "tag": "UnquotedIdentifier",
                "value": "tariffs",
              },
            ],
          },
        ],
      },
      "table": "tariffs",
      "type": "Table",
    },
  ],
}
`;
