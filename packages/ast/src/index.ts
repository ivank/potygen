import { Parser } from '@ikerin/rd-parse';
import { Grammar } from './grammar';
import { QueryTag, WithTag } from './grammar.types';

export {
  SqlTag,
  NullTag,
  QuotedNameTag,
  IdentifierTag,
  ParameterTag,
  ColumnTag,
  AsTag,
  StringTag,
  NumberTag,
  BooleanTag,
  ArrayIndexRangeTag,
  ArrayIndexTag,
  CountTag,
  TypeTag,
  TypeArrayTag,
  DistinctTag,
  StarTag,
  StarIdentifierTag,
  RowTag,
  NativePgCastTag,
  WhenTag,
  ElseTag,
  CaseTag,
  NullIfTag,
  ConditionalExpressionTag,
  BinaryOperatorTag,
  UnaryOperatorTag,
  ComparationOperatorTag,
  BinaryExpressionTag,
  UnaryExpressionTag,
  BetweenTag,
  CastTag,
  PgCastTag,
  ArrayConstructorTag,
  FunctionTag,
  ComparationExpressionTag,
  SelectListItemTag,
  SelectListTag,
  FromListItemTag,
  JoinTypeTag,
  JoinOnTag,
  JoinUsingTag,
  JoinTag,
  FromListTag,
  FromTag,
  WhereTag,
  GroupByTag,
  HavingTag,
  CombinationTag,
  OrderDirectionTag,
  OrderByItemTag,
  OrderByTag,
  LimitTag,
  OffsetTag,
  SelectTag,
  DefaultTag,
  SetItemTag,
  SetListTag,
  ColumnsTag,
  ValuesTag,
  SetMapTag,
  SetTag,
  TableTag,
  UpdateFromTag,
  ReturningListItemTag,
  ReturningTag,
  UpdateTag,
  UsingTag,
  DeleteTag,
  ValuesListTag,
  CollateTag,
  ConflictTargetTag,
  ConflictConstraintTag,
  DoNothingTag,
  DoUpdateTag,
  ConflictTag,
  InsertTag,
  ConstantTag,
  AnyTypeTag,
  SelectParts,
  OperatorExpressionTag,
  AnyCastTag,
  DataTypeTag,
  CastableDataTypeTag,
  ExpressionTag,
  ExpressionListTag,
  WithTag,
  CTETag,
  Tag,
} from './grammar.types';

export {
  isNull,
  isPgCast,
  isIdentifier,
  isParameter,
  isColumn,
  isAs,
  isString,
  isNumber,
  isBoolean,
  isConstant,
  isCount,
  isArrayIndexRange,
  isType,
  isAnyType,
  isTypeArray,
  isDistinct,
  isStar,
  isStarIdentifier,
  isCastableDataType,
  isWhen,
  isElse,
  isCase,
  isNullIf,
  isConditionalExpression,
  isDataType,
  isBinaryOperator,
  isUnaryOperator,
  isComparationOperator,
  isBetween,
  isArrayIndex,
  isFunction,
  isUnaryExpression,
  isBinaryExpression,
  isCast,
  isAnyCast,
  isOperatorExpression,
  isExpression,
  isSelectListItem,
  isReturningListItem,
  isSelectList,
  isFromListItem,
  isFrom,
  isFromList,
  isJoinType,
  isJoinOn,
  isJoinUsing,
  isJoin,
  isWhere,
  isGroupBy,
  isHaving,
  isCombination,
  isOrderDirection,
  isOrderByItem,
  isOrderBy,
  isLimit,
  isOffset,
  isSelect,
  isDefault,
  isSetItem,
  isSetList,
  isColumns,
  isValues,
  isSetMap,
  isSet,
  isTable,
  isUpdateFrom,
  isReturning,
  isUpdate,
  isUsing,
  isDelete,
  isValuesList,
  isInsertTag,
  isQuotedName,
  isCollateTag,
  isConflictTarget,
  isConflictConstraint,
  isDoNothing,
  isDoUpdate,
  isConflict,
  isArrayConstructor,
  isRow,
  isSelectTag,
  isComparationExpression,
  isWrappedExpression,
  isExpressionList,
  isWithTag,
  isCTETag,
} from './grammar.guards';

export {
  length,
  identity,
  tail,
  isEmpty,
  last,
  first,
  initial,
  isUnique,
  isUniqueBy,
  orderBy,
  isNil,
  isDiffBy,
  isObject,
  isEqual,
  groupBy,
  chunk,
} from './util';

export { Grammar } from './grammar';

export const parser = Parser<QueryTag | WithTag>(Grammar);
